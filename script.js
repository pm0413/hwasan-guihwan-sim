document.addEventListener("DOMContentLoaded", function () {

    // ================= 1. ÏÑ§Ï†ï Î∞è ÏÉÅÏàò Ï†ïÏùò =================

    // Í¥ÄÍ≥Ñ Îã®Í≥Ñ ÏÑ§Ï†ï
    const REL_LEVELS = {
        intimacy: [
            {
                score: 0,
                title: "ÏïÑÎäîÏÇ¨Ïù¥"
            },
            {
                score: 100,
                title: "ÏπúÏö∞"
            },
            {
                score: 300,
                title: "Ï†àÏπú"
            },
            {
                score: 500,
                title: "Í∏àÎûÄÏßÄÍµê"
            },
            {
                score: 700,
                title: "ÏßÄÍ∏∞ÏßÄÏö∞"
            },
            {
                score: 1000,
                title: "Í¥ÄÌè¨ÏßÄÍµê"
            }
        ],
        affection: [
            {
                score: 0,
                title: "-"
            },
            {
                score: 10,
                title: "Í¥ÄÏã¨ÏûàÏùå"
            },
            {
                score: 50,
                title: "Ìò∏Í∞ê"
            },
            {
                score: 100,
                title: "Ïç∏ÌÉÄÎäî Í¥ÄÍ≥Ñ"
            },
            {
                score: 200,
                title: "Ïó∞Ïù∏"
            },
            {
                score: 500,
                title: "Î∂ÄÎ∂Ä"
            }
        ]
    };

    // ÏÑ±Í≤© Î™©Î°ù
    const personalityList = ["Îä•Í∏ÄÎßûÏùå", "Î¨¥ÎçòÌï®", "ÏßàÌà¨ÎßéÏùå"];

    // Í≥ÑÏ†à Ï†ïÎ≥¥
    const seasonInfo = {
        spring: {
            name: "Î¥Ñ",
            icon: "üå∏",
            filter: "none"
        },
        summer: {
            name: "Ïó¨Î¶Ñ",
            icon: "‚òÄÔ∏è",
            filter: "saturate(1.2) brightness(1.1)"
        },
        autumn: {
            name: "Í∞ÄÏùÑ",
            icon: "üçÅ",
            filter: "sepia(0.4) contrast(1.1)"
        },
        winter: {
            name: "Í≤®Ïö∏",
            icon: "‚ùÑÔ∏è",
            filter: "brightness(0.9) hue-rotate(10deg) grayscale(0.3)"
        }
    };

    // Ïä§ÌéòÏÖú Ïù¥Î≤§Ìä∏ Îç∞Ïù¥ÌÑ∞
    const specialEventDB = {
        spring: {
            title: "‚≠êÔ∏è Ï¢ÖÎÇ®Ìåå ÌòºÎÇ¥Ï£ºÍ∏∞",
            log: "Ï¢ÖÎÇ®Ïùò Î©çÏ≤≠Ïù¥Îì§ÏùÑ ÎëêÎì§Í≤® Ìå®Ï§¨ÏäµÎãàÎã§!",
            talk: {
                dangbo: "ÌòïÎãò Íµ¨Ïó≠ÏóêÏÑú ÏñºÏ©°Í±∞Î¶¨Îã§Îãà.",
                chung: "Îã§Ïã† Î™ª Ïò§Í≤å Îã§Î¶¨Î•º Î∂ÑÏßàÎü¨ÎÜî!"
            }
        },
        summer: {
            title: "‚≠êÔ∏è ÏàòÎ∞ï ÏÑúÎ¶¨",
            log: "ÎÇ®Ïùò Î∞≠ÏóêÏÑú ÏàòÎ∞ïÏùÑ ÏÑúÎ¶¨Ìï¥ Î®πÏóàÏäµÎãàÎã§.",
            talk: {
                dangbo: "Ïó≠Ïãú ÌõîÏ≥ê Î®πÎäî Í≤å Ï†úÎßõÏù¥Ï£†.",
                chung: "ÏïÑÏÇ≠ÌïòÎãà Ï¢ãÎÑ§!"
            }
        },
        autumn: {
            title: "‚≠êÔ∏è Ïà†ÎèÖ ÎèÑÏû• Íπ®Í∏∞",
            log: "Í∞ùÏûîÏùò Ïà†ÏùÑ Î™®Ï°∞Î¶¨ ÎßàÏÖîÎ≤ÑÎ†∏ÏäµÎãàÎã§.",
            talk: {
                dangbo: "ÌòïÎãò, Ìïú Î≥ë Îçî?",
                chung: "Ïò§Îäò Îã§ Ï£ΩÎäî Í±∞Ïïº!"
            }
        },
        winter: {
            title: "‚≠êÔ∏è ÏÑ§Ïõê ÎπÑÎ¨¥",
            log: "ÎààÎ∞≠ÏóêÏÑú Í≤©Î†¨Ìïú ÎπÑÎ¨¥Î•º ÌéºÏ≥§ÏäµÎãàÎã§.",
            talk: {
                dangbo: "ÏÜêÏù¥ Í≥±ÏïÑÏÑú Ï†úÎåÄÎ°ú Î™ª ÎçòÏßÄÍ≤†ÏÜå.",
                chung: "ÌïëÍ≥Ñ ÎåÄÏßÄ ÎßàÎùº!"
            }
        }
    };

    // ================= 2. Ï∫êÎ¶≠ÌÑ∞ Î∞è ÎåÄÏÇ¨ Îç∞Ïù¥ÌÑ∞ =================
    const charData = {
        'dangbo': {
            name: "ÎãπÎ≥¥",
            title: "ÏïîÏ°¥(ÊöóÂ∞ä)",
            gender: "ÎÇ®ÏÑ±",
            trait: "Îä•Í∏ÄÎßûÏùå",
            position: "left",
            intimacy: 0,
            affection: 0,
            maxIntimacyLevelIdx: 0,
            maxAffectionLevelIdx: 0,
            relationshipTitle: "ÏïÑÎäîÏÇ¨Ïù¥",
            loveTitle: "-",
            inventory: ["ÎπÑÎèÑ x12", "ÎèÖÎ≥ë", "ÏµúÍ≥†Í∏â Ïà†"],
            relations: [{
                target: "Ï≤≠Î™Ö",
                rel: "ÏùòÌòïÏ†ú",
                desc: "ÌèâÏÉùÏùÑ Îî∞Î•º Ï£ºÍµ∞Ïù¥Ïûê {Ìò∏Ïπ≠}."
            }],
            img: "character/ÎãπÎ≥¥.gif",
            color: "#4CAF50",
            x: 30,
            y: 60
        },
        'chung': {
            name: "Ï≤≠Î™Ö",
            title: "Îß§ÌôîÍ≤ÄÏ°¥(Ê¢ÖËä±ÂäçÂ∞ä)",
            gender: "ÎÇ®ÏÑ±",
            trait: "Î¨¥ÎçòÌï®",
            position: "right",
            intimacy: 0,
            affection: 0,
            maxIntimacyLevelIdx: 0,
            maxAffectionLevelIdx: 0,
            relationshipTitle: "ÏïÑÎäîÏÇ¨Ïù¥",
            loveTitle: "-",
            inventory: ["Îß§ÌôîÍ≤Ä", "ÎãπÍ≥º", "Íµ∞ÎßåÎëê"],
            relations: [{
                target: "ÎãπÎ≥¥",
                rel: "ÏùòÌòïÏ†ú",
                desc: "Í∑ÄÏ∞ÆÏßÄÎßå ÎØøÏùåÏßÅÌïú ÎÖÄÏÑù."
            }],
            img: "character/Ï≤≠Î™Ö.gif",
            color: "#F44336",
            x: 70,
            y: 60
        }
    };

    const dialogDB = {
        "dangbo_start": {
            "Îä•Í∏ÄÎßûÏùå": [
                {
                    t1: "ÏÇ¨Ï≤úÎãπÍ∞ÄÎ°ú ÎÜÄÎü¨ Ïò§Ïã≠Ïáº. {Ìò∏Ïπ≠} Ï¢ãÏïÑÌïòÏãúÎäî ÎèÖÏ£ºÍ∞Ä ÏïÑÏ£º ÎßéÏäµÎãàÎã§.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "ÎèÖÏ£º? ÎÇ¥ Í∞ÑÏù¥ Î≤ÑÌÖ®Ï§ÑÍπå Î™®Î•¥Í≤†ÎÑ§.",
                            log: "Ï≤≠Î™ÖÏù¥ Îç§Îç§ÌïòÍ≤å Ïà† Í≥ÑÏÇ∞ÏùÑ Ìï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Í∞ÄÎ©¥ ÎÑ§Í∞Ä Îã§ ÏèòÎäî Í±∞ÏßÄ? ÎãπÍ∞Ä Ï∞ΩÍ≥† ÌÑ∏Îü¨ Í∞ÑÎã§!",
                            log: "Ï≤≠Î™ÖÏù¥ Ïã†Ïù¥ ÎÇòÏÑú ÎßûÏû•Íµ¨Ïπ©ÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÎãπÍ∞ÄÏóê ÎÇò ÎßêÍ≥† Îòê ÎàÑÍµ¨ Î∂ÄÎ•∏ ÎÜà ÏûàÎÉê?",
                            log: "Ï≤≠Î™ÖÏù¥ Í¥úÌûà ÏÇêÎî±ÌïòÍ≤å Î¨ªÏäµÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "{Ìò∏Ïπ≠}, Ï†ÄÎûë ÎπÑÎ¨¥ÎÇò Ìïú Ìåê Ïñ¥Îñ†Ïã≠ÎãàÍπå? ÏÇ¥ÏÇ¥ Ìï¥ÎìúÎ¶¥Í≤å.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Í∑ÄÏ∞ÆÎã§. Ïû†Ïù¥ÎÇò ÏûêÎùº.",
                            log: "Ï≤≠Î™ÖÏù¥ ÌïòÌíàÏùÑ ÌïòÎ©∞ Í±∞Ï†àÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÏÇ¥ÏÇ¥? ÎåÄÍ∞ÄÎ¶¨ Íπ®Ï†∏Î¥êÏïº Ï†ïÏã† Ï∞®Î¶¨ÏßÄ?",
                            log: "Ï≤≠Î™ÖÏù¥ ÎπÑÎ¶øÌïòÍ≤å ÏõÉÏúºÎ©∞ Í≤ÄÏùÑ Ïû°ÏäµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÎÇòÎûë Î™∏ ÏÑûÍ≥† Ïã∂Ïñ¥ÏÑú ÏïàÎã¨Ïù¥ ÎÇ¨Íµ¨ÎÇò?",
                            log: "Ï≤≠Î™ÖÏù¥ Î¨òÌïú ÌëúÏ†ïÏúºÎ°ú Ï≥êÎã§Î¥ÖÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Ïù¥ ÎãπÎ≥¥Í∞Ä {Ìò∏Ïπ≠} ÏÉùÍ∞ÅÌï¥ÏÑú ÏÇ∞ ÏÜåÏ§ëÌïú ÎãπÍ≥ºÏûÖÎãàÎã§. Ïûê, ÏïÑ~ ÌïòÏã≠Ïáº.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Ï£ºÎ†§Î©¥ Í∑∏ÎÉ• Ï§òÎùº. ÏßïÍ∑∏ÎüΩÍ≤å.",
                            log: "Ï≤≠Î™ÖÏù¥ ÎãπÍ≥ºÎßå Ïèô Î∫èÏñ¥Í∞ëÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÏÜêÍ∞ÄÎùΩÍπåÏßÄ ÏîπÏñ¥Î®πÏñ¥ÎèÑ ÎêòÎÉê?",
                            log: "Ï≤≠Î™ÖÏù¥ ÏûÖÏùÑ ÌÅ¨Í≤å Î≤åÎ¶¨Î©∞ Ïû•ÎÇúÏùÑ Ïπ©ÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÎÑà Îã§Î•∏ ÎÜàÌïúÌÖåÎèÑ Ïù¥Î†áÍ≤å Î®πÏó¨Ï£ºÎÉê?",
                            log: "Ï≤≠Î™ÖÏù¥ ÏùòÏã¨Ïä§Îü¨Ïö¥ ÎààÏ¥àÎ¶¨Î°ú Ï≥êÎã§Î¥ÖÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "ÏöîÏ¶ò ÌôîÏÇ∞ ÎÜàÎì§ÏùÄ ÏïÑÏ£º Í∏∞Ïö¥Ïù¥ ÎÑòÏπòÎçîÍµ∞Ïöî. {Ìò∏Ïπ≠} ÎãÆÏïÑÏÑú Í∑∏Îü∞Í∞Ä?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Í∑∏ÎÉ• ÎÇ¥Î≤ÑÎ†§ Îë¨Îùº. Ïï†Îì§Ïù¥Îã§.",
                            log: "Ï≤≠Î™ÖÏù¥ Î©ÄÎ¶¨ ÏàòÎ†®ÌïòÎäî Ï†úÏûêÎì§ÏùÑ Î¥ÖÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÎÇò ÎãÆÏïòÏúºÎ©¥ Î≤åÏç® ÏÇ¨Í≥† Ï≥êÎèÑ Î™á Î≤àÏùÄ Ï≥§ÏßÄ.",
                            log: "Ï≤≠Î™ÖÏù¥ ÎÇÑÎÇÑÍ±∞Î¶¨Î©∞ ÏõÉÏäµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "Í∑∏ÎÜàÎì§ Î≥¥ÎäêÎùº ÎÇ¥Í∞Ä ÏñºÎßàÎÇò Î∞îÏÅúÎç∞. ÎÑå Ïû†ÏûêÏΩî ÏûàÏñ¥.",
                            log: "Ï≤≠Î™ÖÏù¥ ÌîºÍ≥§Ìïú ÎìØ ÎààÏùÑ ÎπÑÎπïÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "{Ìò∏Ïπ≠} Ïôú ÏûêÍæ∏ ÏûòÏÉùÍ≤®ÏßÄÏãúÎäî Í≤ÅÎãàÍπå? Ïù¥ ÏïÑÏö∞ Ïã¨Ïû•Ïù¥ Îñ®Î†§ÏÑú Ïõê.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "ÌóõÏÜåÎ¶¨ ÎßêÍ≥† Ïû†Ïù¥ÎÇò Ïûê.",
                            log: "Ï≤≠Î™ÖÏù¥ Í∑ÄÏ∞ÆÎã§Îäî ÎìØ Í≥†Í∞úÎ•º ÎèåÎ¶ΩÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÎÑ§ Ïã¨Ïû•Îßå Îñ®Î¶¨Í≤†ÎÉê? Ïò® Í∞ïÌò∏Í∞Ä ÎÇúÎ¶¨Îã§.",
                            log: "Ï≤≠Î™ÖÏù¥ ÏûêÏïÑÎèÑÏ∑®Ïóê Îπ†Ï†∏ ÎåÄÍæ∏Ìï©ÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÏûÖÎßå ÏÇ¥ÏïÑÏÑú... ÎÇò ÎßêÍ≥† Îî¥ ÎÜàÌïúÌÖå Í∑∏ ÏÜåÎ¶¨ ÌïòÎ©¥ Ï£ΩÎäîÎã§.",
                            log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Ïùò ÏûÖÏùÑ Ìà≠ Ïπ©ÎãàÎã§."
                        }
                    }
                }
            ],
            "ÏßàÌà¨ÎßéÏùå": [
                {
                    t1: "ÏïÑÍπå Í∑∏ Ïû•Î¨∏Ïù∏Ïù¥Îûë Î¨¥Ïä® ÏñòÍ∏∞Î•º Í∑∏Î†áÍ≤å Ïò§Îûò ÌïòÏã† Í≤ÅÎãàÍπå?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Í∑∏ÎÉ• Î¨∏Ìåå Ïö¥ÏòÅ ÏñòÍ∏∞ÏßÄ. Î≥ÑÍ±∞ ÏóÜÎã§.",
                            log: "Ï≤≠Î™ÖÏù¥ ÎåÄÏàòÎ°≠ÏßÄ ÏïäÍ≤å ÎãµÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ïôú, ÏßàÌà¨ ÎÇòÎÉê? ÏïÑÏ£º Í∑ÄÏó¨Ïõå Ï£ΩÍ≤†ÎÑ§.",
                            log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Ïùò Î®∏Î¶¨Î•º Ïì∞Îã§Îì¨ÏäµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÎÑàÎèÑ ÏïÑÍπå ÎãπÍ∞Ä Ïï†Îì§Ïù¥Îûë ÏõÉÍ≥† Îñ†Îì§ÎçîÎßå!",
                            log: "Îëê ÏÇ¨Îûå ÏÇ¨Ïù¥Ïóê Î¨òÌïú Í∏∞Ïã∏ÏõÄÏù¥ ÌùêÎ¶ÖÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Ï†ú ÎπÑÎèÑÍ∞Ä Ï¢ãÏäµÎãàÍπå, ÌôîÏÇ∞Ïùò Í≤ÄÏù¥ Ï¢ãÏäµÎãàÍπå? ÏÜîÏßÅÌïòÍ≤å ÎßêÏîÄÌï¥ Î≥¥Ïã≠Ïáº.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Îëò Îã§ ÏÇ¨Îûå Ïû°Îäî Í±¥ ÎòëÍ∞ôÏßÄ Î≠ê.",
                            log: "Ï≤≠Î™ÖÏù¥ Í≤ÄÎÇ†ÏùÑ Îã¶ÏúºÎ©∞ ÎåÄÎãµÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÎãπÏó∞Ìûà ÎÑ§ ÏñºÍµ¥Ïù¥ Ï†úÏùº Ï¢ãÏßÄ, ÏûÑÎßà!",
                            log: "Ï≤≠Î™ÖÏù¥ ÏúôÌÅ¨Î•º ÎÇ†Î¶ΩÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "Í≤ÄÏùÄ ÎÇ¥ Î™©Ïà®Ïù¥Îã§. ÎÑå ÎÇ¥... ÏïÑÎãàÎã§, ÎêêÎã§.",
                            log: "Ï≤≠Î™ÖÏù¥ ÎßêÏùÑ ÌùêÎ¶¨Î©∞ Ïë•Ïä§Îü¨ÏõåÌï©ÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "{Ìò∏Ïπ≠}, Ï†Ä ÎßêÍ≥† Îã§Î•∏ ÎÜàÏù¥Îûë Ïà† ÎßàÏãúÍ∏∞Îßå Ìï¥Î≥¥Ïã≠Ïáº. ÏÇ¨Ï≤úÏùò ÎèÖÏùÑ Îã§ ÌíÄ Í≤ÅÎãàÎã§.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Ïà† ÎßàÏãúÎäîÎç∞ ÎèÖÏùÄ Ïôú ÌíÄÏñ¥. Î¨¥ÏÑ≠Í≤å.",
                            log: "Ï≤≠Î™ÖÏù¥ ÏûîÏùÑ Ï±ÑÏö∞Î©∞ Î¨¥Ïã¨ÌïòÍ≤å ÎßêÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ïò§~ Î¨¥ÏÑúÏõåÎùº. Í∑∏Îüº ÎÑ§Í∞Ä Îß§Ïùº Ïà† ÏÇ¨Ï§Ñ Í±∞Ïïº?",
                            log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Ïùò Ïñ¥Íπ®Ïóê ÌåîÏùÑ Ïò¨Î¶ΩÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÌòëÎ∞ïÏù¥ÎÉê? ÎÇú ÎÑà ÏóÜÏúºÎ©¥ Ïà†Îßõ Ïïà ÎÇòÍ±∞Îì†?",
                            log: "Ï≤≠Î™ÖÏù¥ Ìà¥Ìà¥Í±∞Î¶¨Î©∞ ÎãπÎ≥¥Ïùò ÏûîÏùÑ Ï±ÑÏõÅÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "{Ìò∏Ïπ≠} Ïôú Ï†ÄÌïúÌÖåÎßå ÍπåÏπ†ÌïòÍ≤å Íµ¨ÏãúÎäî Í≤ÅÎãàÍπå? Îî¥ ÎÜàÎì§ÌïúÌÖê Ïûò ÏõÉÏñ¥Ï£ºÎ©¥ÏÑú!",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "ÎÇ¥Í∞Ä Ïñ∏Ï†ú? Ï∞©Í∞ÅÏù¥Îã§.",
                            log: "Ï≤≠Î™ÖÏù¥ Î©çÌïú ÌëúÏ†ïÏúºÎ°ú Ï≥êÎã§Î¥ÖÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Í∞ÄÍπåÏö∞ÎãàÍπå Ìé∏Ìï¥ÏÑú Í∑∏Î†áÏßÄ. Ïù¥ Î∞îÎ≥¥Ïïº.",
                            log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Ïùò Î∫®ÏùÑ ÏÇ¥Ïßù Íº¨ÏßëÏäµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÎÑ§Í∞Ä ÌïòÎèÑ Î∂ôÏñ¥Îã§ÎãàÎãàÍπå Ïà®Ïù¥ ÎßâÌòÄÏÑú Í∑∏Îûò!",
                            log: "Ï≤≠Î™ÖÏù¥ Í¥úÌûà ÌÅ∞ÏÜåÎ¶¨Î•º Ïπ©ÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Ïò§ÎäòÎî∞Îùº Ïò∑Ï∞®Î¶ºÏù¥ ÎÑàÎ¨¥ ÍπîÎÅîÌïòÏãúÍµ∞Ïöî. ÎàÑÍµ¨ Î≥¥Ïó¨Ï£ºÎ†§Í≥† Íæ∏ÎØ∏Ïã† Í≤ÅÎãàÍπå?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Îπ®ÎûòÍ∞Ä Ïù¥Í≤ÉÎ∞ñÏóê ÏóÜÏñ¥ÏÑú ÏûÖÏóàÎã§.",
                            log: "Ï≤≠Î™ÖÏù¥ Ïò∑ Îß§Î¨¥ÏÉàÎ•º ÎåÄÏ∂© Ï†ïÎ¶¨Ìï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÎÑà Î≥¥Ïó¨Ï£ºÎ†§Í≥† ÏûÖÏóàÏßÄ. Ïñ¥Îïå, Î∞òÌñàÎÉê?",
                            log: "Ï≤≠Î™ÖÏù¥ Ìïú Î∞îÌÄ¥ ÎèåÎ©∞ Ìè¨Ï¶àÎ•º Ï∑®Ìï©ÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÏïÑÎ¨¥ÎèÑ Ïïà Î≥¥Ïó¨Ï§Ñ Í±∞ÎãàÍπå ÎÑàÎßå Î¥êÎùº. ÎêêÎÉê?",
                            log: "Ï≤≠Î™ÖÏù¥ ÏñºÍµ¥Ïù¥ Î∂âÏñ¥ÏßÑ Ï±Ñ ÏèòÏïÑÎ∂ôÏûÖÎãàÎã§."
                        }
                    }
                }
            ],
            "Î¨¥ÎçòÌï®": [
                {
                    t1: "{Ìò∏Ïπ≠}, ÏàòÎ†®ÎèÑ Ï¢ãÏßÄÎßå Í∞ÄÎÅîÏùÄ Ï¢Ä Ïâ¨Î©¥ÏÑú ÌïòÏã≠ÏãúÏò§.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Ïò§ÎÉê. Ïïà Í∑∏ÎûòÎèÑ Í∑∏Îü¨Î†§Îçò Ï∞∏Ïù¥Îã§.",
                            log: "Îëê ÏÇ¨ÎûåÏù¥ ÎÇòÎûÄÌûà ÏïâÏïÑ ÎïÄÏùÑ ÏãùÌûôÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Í±±Ï†ïÌï¥Ï£ºÎäî Í±∞ÎÉê? Ïó≠Ïãú Ïö∞Î¶¨ ÏïÑÏö∞Î∞ñÏóê ÏóÜÎÑ§!",
                            log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Ïùò Ïñ¥Íπ®Î•º Ìà≠ ÏπòÎ©∞ ÏõÉÏäµÎãàÎã§."
                        },
                        "ÍπåÏπ†Ìï®": {
                            t2: "ÏûîÏÜåÎ¶¨ ÎßàÎùº. ÎÑ§ ÎπÑÎèÑÎÇò Îçî Îã¶ÏïÑÎÜî.",
                            log: "Ï≤≠Î™ÖÏù¥ Ï∏§Ï∏§Í±∞Î¶¨Î©∞ Îã§Ïãú Í≤ÄÏùÑ ÌúòÎëêÎ¶ÖÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Ìï¥Í∞Ä ÏßÄÍ≥† ÏûàÏäµÎãàÎã§. Ïò§ÎäòÏùÄ Ïù¥Îßå Îì§Ïñ¥Í∞àÍπåÏöî?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Í∑∏Îûò, Í∞ÄÏûê. Î∞∞Í≥†ÌîÑÎÑ§.",
                            log: "Îëê ÏÇ¨ÎûåÏù¥ ÎÖ∏ÏùÑÏùÑ Îí§Î°úÌïòÍ≥† ÏàôÏÜåÎ°ú Ìñ•Ìï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Î≤åÏç®? Î∞§ÏÉàÎèÑÎ°ù ÎÇòÎûë ÎÜÄÏïÑÏ§òÏïºÏßÄ!",
                            log: "Ï≤≠Î™ÖÏù¥ ÏïÑÏâ¨Ïö¥ ÎìØ ÎãπÎ≥¥Ïùò ÏÜåÎß§Î•º Î∂ôÏû°ÏäµÎãàÎã§."
                        },
                        "ÍπåÏπ†Ìï®": {
                            t2: "Í∞ÄÍ≥† Ïã∂ÏúºÎ©¥ ÎÑàÎÇò Í∞Ä. ÎÇú Îçî Ìï† Í±∞Îã§.",
                            log: "Ï≤≠Î™ÖÏù¥ Í≥†ÏßëÏùÑ Î∂ÄÎ¶¨Î©∞ ÏûêÎ¶¨Î•º ÏßÄÌÇµÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Í∏∏Í∞ÄÏóê ÍΩÉÏù¥ ÌèàÎçîÍµ∞Ïöî. {Ìò∏Ïπ≠} Ï¢ãÏïÑÌïòÏã§ Í≤É Í∞ôÏïÑ Í∞ÄÏ†∏ÏôîÏäµÎãàÎã§.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "ÍΩÉ? Í≥†ÎßôÎã§. Î∞©Ïóê ÎëêÎßà.",
                            log: "Ï≤≠Î™ÖÏù¥ Î¨¥Ïã¨ÌïòÍ≤å ÍΩÉÏùÑ Î∞õÏïÑÎì≠ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÏïÑÏù¥Í≥†~ Ïö∞Î¶¨ ÎãπÎ≥¥Í∞Ä Ïõ¨ÏùºÎ°ú Ïù¥Îü∞ ÍΩÉ ÏÑ†Î¨ºÏùÑ?",
                            log: "Ï≤≠Î™ÖÏù¥ ÍΩÉÌñ•Í∏∞Î•º Îß°ÏúºÎ©∞ Ïû•ÎÇúÏä§ÎüΩÍ≤å ÏõÉÏäµÎãàÎã§."
                        },
                        "ÍπåÏπ†Ìï®": {
                            t2: "ÎÇ¥Í∞Ä Î¨¥Ïä® Í≥ÑÏßëÏï†ÎÉê? ÍΩÉÏùÄ Î¨¥Ïä®...",
                            log: "Ï≤≠Î™ÖÏù¥ Ìà¨ÎçúÎåÄÎ©¥ÏÑúÎèÑ ÍΩÉÏùÑ Î≤ÑÎ¶¨ÏßÄ ÏïäÍ≥† Ï±ôÍπÅÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "ÏÇ¨Ï≤úÏóêÏÑú ÏÑúÏã†Ïù¥ ÏôîÏäµÎãàÎã§. ÎãπÍ∞Ä ÎÜàÎì§Ïù¥ {Ìò∏Ïπ≠} ÏïàÎ∂ÄÎ•º Î¨ªÎçîÍµ∞Ïöî.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "ÎÇòÏïº Ïûò ÏûàÏßÄ. Í±îÎì§ÎèÑ Ïûò ÏßÄÎÇ¥ÎùºÍ≥† Ï†ÑÌï¥Îùº.",
                            log: "Ï≤≠Î™ÖÏù¥ ÏÑúÏã† ÎÇ¥Ïö©ÏùÑ ÎåÄÏàòÎ°≠ÏßÄ ÏïäÍ≤å Îì£ÏäµÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÎÇ¥ Ïù∏Í∏∞Í∞Ä ÏÇ¨Ï≤úÍπåÏßÄ ÎªóÏπú Î™®ÏñëÏù¥ÎÑ§? „Öã„Öã",
                            log: "Ï≤≠Î™ÖÏù¥ Í∏∞Î∂Ñ Ï¢ãÍ≤å ÏΩßÎÖ∏ÎûòÎ•º Î∂ÄÎ¶ÖÎãàÎã§."
                        },
                        "ÍπåÏπ†Ìï®": {
                            t2: "Í∑ÄÏ∞ÆÍ≤å ÏãúÎ¶¨... Í∑∏ÎÜàÎì§ÏùÄ Ïôú ÏûêÍæ∏ ÎÇ¥ ÏïàÎ∂ÄÎ•º Î¨ºÏñ¥?",
                            log: "Ï≤≠Î™ÖÏù¥ Ïù∏ÏÉÅÏùÑ Ïì∞Î©¥ÏÑúÎèÑ Ïã´ÏßÄ ÏïäÏùÄ Í∏∞ÏÉâÏûÖÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "{Ìò∏Ïπ≠}, Ïò∑Ïù¥ Ï¢Ä ÎúØÏñ¥Ï°åÏäµÎãàÎã§. Ïù¥Î¶¨ Ï£ºÏã≠ÏãúÏò§. Ï†úÍ∞Ä Íø∞Îß§ ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "ÏïÑ, Í≥†ÎßôÎã§. ÏÜêÏû¨Ï£ºÍ∞Ä Ï¢ãÎÑ§.",
                            log: "ÎãπÎ≥¥Í∞Ä ÏÜúÏî® Ï¢ãÍ≤å Ïò∑ÏùÑ ÏàòÏÑ†ÌïòÎäî Í≤ÉÏùÑ ÏßÄÏºúÎ¥ÖÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ïö∞Î¶¨ ÏïÑÏö∞, ÎÇòÏ§ëÏóê ÏãúÏßëÍ∞ÄÎèÑ ÎêòÍ≤†Ïñ¥?",
                            log: "Ï≤≠Î™ÖÏù¥ ÎÇÑÎÇÑÍ±∞Î¶¨Î©∞ ÎãπÎ≥¥Î•º ÎÜÄÎ¶ΩÎãàÎã§."
                        },
                        "ÍπåÏπ†Ìï®": {
                            t2: "Í∑∏ÎÉ• Îë¨Îùº. Ïù¥Îü∞ Í±∞ ÏûÖÎäîÎã§Í≥† Ïïà Ï£ΩÎäîÎã§.",
                            log: "Ï≤≠Î™ÖÏù¥ ÎØºÎßùÌïú ÎìØ Ïò∑ÏûêÎùΩÏùÑ Ïó¨Î∞âÎãàÎã§."
                        }
                    }
                }
            ]
        },
        "chung_start": {
            "Îä•Í∏ÄÎßûÏùå": [
                {
                    t1: "Ïïº, ÎãπÎ≥¥Ïïº. ÎÑà Ïò§ÎäòÎî∞Îùº Ïôú Ïù¥Î†áÍ≤å ÏûòÏÉùÍ≤® Î≥¥Ïù¥ÎÉê? Î≠ê ÏûòÎ™ª Î®πÏóàÏñ¥?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "ÏõêÎûò Ïù¥Îû¨ÏäµÎãàÎã§. Ïù¥Ï†úÏïº ÏïåÏïÑÎ≥¥Ïã† Í≤ÅÎãàÍπå?",
                            log: "ÎãπÎ≥¥Í∞Ä Îç§Îç§ÌïòÍ≤å ÎåÄÎãµÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "{Ìò∏Ïπ≠} ÎààÏóê Ï†úÍ∞Ä ÎìúÎîîÏñ¥ ÍΩÉÏúºÎ°ú Î≥¥Ïù¥ÏãúÎäî Î™®ÏñëÏûÖÎãàÎã§?",
                            log: "ÎãπÎ≥¥Í∞Ä ÌïúÏà† Îçî Îñ†ÏÑú ÎÑàÏä§Î†àÎ•º Îñ±ÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "Í∞ëÏûêÍ∏∞ Í∑∏Îü∞ ÏÜåÎ¶∞ Ïôú ÌïòÏã≠ÎãàÍπå? Îî¥ ÎÜàÌïúÌÖåÎèÑ ÌïòÏÖ®Ï£†?",
                            log: "ÎãπÎ≥¥Í∞Ä ÏùòÏã¨Ïä§Îü¨Ïö¥ ÎààÏ¥àÎ¶¨Î°ú Ï≥êÎã§Î¥ÖÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "ÏÇ¨Ï≤úÎãπÍ∞ÄÏóê Îèà ÎßéÎã§Î©∞? Ïù¥ {Ìò∏Ïπ≠} Ïö©Îèà Ï¢Ä Ï£ºÎùº. Ïùë?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Îèà Í¥ÄÎ¶¨Ïù∏ÏùÄ Îî∞Î°ú ÏûàÏäµÎãàÎã§. Ï†ú ÎßòÎåÄÎ°ú Ïïà Îê©ÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä Îã®Ìò∏ÌïòÍ≤å Í±∞Ï†àÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ï†ú ÏßÄÍ∞ëÏùÄ {Ìò∏Ïπ≠} Í±∞ÎÇò Îã§Î¶ÑÏóÜÏ£†. ÎåÄÏã† Ïò§Îäò Ï†ÄÎûë Ïà† ÌïúÏûî Ïñ¥Îñ†Ïã≠ÎãàÍπå?",
                            log: "ÎãπÎ≥¥Í∞Ä ÏûêÏó∞Ïä§ÎüΩÍ≤å Ïà† ÏïΩÏÜçÏùÑ Ïû°ÏäµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "Îèà ÌïÑÏöîÌï† ÎïåÎßå ÏïÑÏö∞ Ï∞æÏúºÏãúÏßÄ, ÏïÑÏ£º.",
                            log: "ÎãπÎ≥¥Í∞Ä ÏÑúÏö¥Ìïú ÎìØ ÏûÖÏà†ÏùÑ ÎÇ¥Î∞âÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Ïïº, ÎÑ§Í∞Ä Í∑∏Î†áÍ≤å Î¨¥ÏãúÎ¨¥ÏãúÌïú ÏïîÏ°¥Ïù¥ÎùºÎ©∞? ÎÇ¥ ÏïûÏóêÏÑúÎäî Í∑∏ÎÉ• Í∞ïÏïÑÏßÄ Í∞ôÏùÄÎç∞?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "{Ìò∏Ïπ≠} ÏïûÏóêÏÑúÎßå Ïù¥Îü¨Îäî Í≤ÅÎãàÎã§. Îî¥ Îç∞ÏÑ† Ïïà Ïù¥ÎûòÏöî.",
                            log: "ÎãπÎ≥¥Í∞Ä Ïë•Ïä§Îü¨Ïö¥ ÎìØ Í≥†Í∞úÎ•º ÎèåÎ¶ΩÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÏôàÏôà! ÎêêÏäµÎãàÍπå? Ïù¥Ï†ú Ïì∞Îã§Îì¨Ïñ¥ Ï£ºÏãúÏ£†.",
                            log: "ÎãπÎ≥¥Í∞Ä Ïû•ÎÇúÏä§ÎüΩÍ≤å Î®∏Î¶¨Î•º ÎÇ¥Î∞âÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "Í∞ïÏïÑÏßÄ Ï∑®Í∏âÌïòÏßÄ ÎßàÏã≠Ïáº. Ï†ÄÎèÑ ÎÇ®ÏûêÏûÖÎãàÎã§!",
                            log: "ÎãπÎ≥¥Í∞Ä Í¥úÌûà Î™©ÏÜåÎ¶¨Î•º ÎÜíÏûÖÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "ÎÑà ÏóÜÏúºÎãàÍπå Ïã¨Ïã¨Ìï¥ Ï£ΩÎäî Ï§Ñ ÏïåÏïòÎã§. Ïñ¥Îîî Í∞ÄÏÑú ÎàÑÍµ¨Îûë ÎÜÄÎã§ Ïò® Í±∞Ïïº?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Ïû†Ïãú Î≥ºÏùº Ï¢Ä Î≥¥Í≥† ÏôîÏäµÎãàÎã§. Î≥ÑÍ±∞ ÏïÑÎãôÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä Ï∞®Î∂ÑÌïòÍ≤å ÏÑ§Î™ÖÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ìóâ!! {Ìò∏Ïπ≠}. Ï†Ä ÏóÜÏúºÎ©¥ Ïïà ÎêòÎäî Î™∏Ïù¥ ÎêòÏã† Í≤ÅÎãàÍπå?",
                            log: "ÎãπÎ≥¥Í∞Ä Í∞êÎèôÎ∞õÏùÄ Ï≤ô Ìò∏Îì§Í∞ëÏùÑ Îñ±ÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "{Ìò∏Ïπ≠}ÏïºÎßêÎ°ú ÏïÑÍπå Í∑∏ ÎèÑÏÇ¨ÎÜàÏù¥Îûë ÏõÉÍ≥† Í≥ÑÏãúÎçòÎç∞Ïöî?",
                            log: "ÎãπÎ≥¥Í∞Ä Ïó≠Í≥µÏùÑ ÌéºÏπ©ÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "ÎÇò Ïò§Îäò Í∏∞Î∂ÑÏù¥ Ï¢Ä Ïïà Ï¢ãÏùÄÎç∞, ÎÑ§Í∞Ä Ïû¨Î°± Ï¢Ä Îñ®Ïñ¥Î¥êÎùº. Í∑∏Îüº ÌíÄÎ¶¥ Í≤É Í∞ôÏïÑ.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "...Ï†úÍ∞Ä Î¨¥Ïä® Í¥ëÎåÄÏù∏ Ï§Ñ ÏïÑÏã≠ÎãàÍπå.",
                            log: "ÎãπÎ≥¥Í∞Ä Ïñ¥Ïù¥ÏóÜÎã§Îäî ÎìØ Ï≥êÎã§Î¥ÖÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ïû¨Î°±ÏùÄ Î¨¥Ïä®... Í∑∏ÎÉ• Ï†úÍ∞Ä ÏïàÏïÑ ÎìúÎ¶¥ÍπåÏöî?",
                            log: "ÎãπÎ≥¥Í∞Ä ÌåîÏùÑ Î≤åÎ¶¨Î©∞ Îã§Í∞ÄÏòµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÏïÑÎ¨¥ÌïúÌÖåÎÇò Ïû¨Î°± ÌîºÏö∞Îùº ÌïòÍ≥†... {Ìò∏Ïπ≠} Ï†ïÎßê ÎÑàÎ¨¥ÌïòÏã≠ÎãàÎã§!",
                            log: "ÎãπÎ≥¥Í∞Ä ÏßÑÏßúÎ°ú ÏÇêÏßÑ Í∏∞ÏÉâÏùÑ Î≥¥ÏûÖÎãàÎã§."
                        }
                    }
                }
            ],
            "Î¨¥ÎçòÌï®": [
                {
                    t1: "Ïïº ÎãπÎ≥¥Ïïº, Î∞∞Í≥†ÌîÑÎã§. Î≠ê Î®πÏùÑ Í±∞ ÏóÜÎÉê?",
                    reaction: {
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "{Ìò∏Ïπ≠} ÎìúÏãúÎùºÍ≥† ÎßåÎëê ÏÇ¨ÏôîÏ£†. Ïûê, ÏïÑ~ ÌïòÏã≠Ïáº.",
                            log: "ÎãπÎ≥¥Í∞Ä ÎßåÎëêÎ•º ÌïòÎÇò ÏßëÏñ¥ ÏûÖÏóê ÎÑ£Ïñ¥Ï§çÎãàÎã§."
                        },
                        "Î¨¥ÎçòÌï®": {
                            t2: "Î∂ÄÏóåÏóê Í∞ÄÎ≥¥Ïã≠Ïáº. Íµ≠ÏàòÎùºÎèÑ ÏÇ∂ÏïÑ ÎìúÎ¶¥ÍπåÏöî?",
                            log: "ÎãπÎ≥¥Í∞Ä ÏùºÏñ¥ÏÑúÏÑú ÏïûÏπòÎßàÎ•º ÎëêÎ¶ÖÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÎßåÎëêÍ∞Ä Ï¢ãÏäµÎãàÍπå, Ï†úÍ∞Ä Ï¢ãÏäµÎãàÍπå? Í≥®ÎùºÎ≥¥Ïã≠Ïáº.",
                            log: "ÎãπÎ≥¥Í∞Ä ÎßåÎëê Ï†ëÏãúÎ•º Ïà®Í∏∞Î©∞ Î¨ªÏäµÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Ïò§ÎäòÎî∞Îùº ÎπÑÎèÑÍ∞Ä Ï∞∏ Î≤àÏ©çÍ±∞Î¶¨ÎÑ§. Í¥ÄÎ¶¨ Ï¢Ä ÌñàÎÉê?",
                    reaction: {
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "{Ìò∏Ïπ≠} Ïã¨Ïû• Íø∞Îö´ÏúºÎ†§Í≥† Î∞§ÏÉà Îã¶ÏïòÏäµÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä ÎπÑÎèÑÎ•º ÎèåÎ¶¨Î©∞ Ïî© ÏõÉÏäµÎãàÎã§."
                        },
                        "Î¨¥ÎçòÌï®": {
                            t2: "Î¨¥Í∏∞ Í¥ÄÎ¶¨Îäî Í∏∞Î≥∏Ïù¥Ï£†. {Ìò∏Ïπ≠} Í≤ÄÎèÑ Îã¶ÏïÑÎìúÎ¶¥ÍπåÏöî?",
                            log: "ÎãπÎ≥¥Í∞Ä ÎßàÎ•∏ ÌóùÍ≤äÏùÑ Í∫ºÎÉÖÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "{Ìò∏Ïπ≠} Ïïà Î¥êÏ£ºÏãúÎãàÍπå ÎπÑÎèÑÎùºÎèÑ Î¥êÎã¨ÎùºÍ≥† Îã¶ÏïòÏäµÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä ÏÑ≠ÏÑ≠Ìïú Ìà¨Î°ú ÎßêÌï©ÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Ï°∏Î¶¨Îã§... ÎÇò Ï¢Ä Ïûò ÌÖåÎãàÍπå Íπ®Ïö∞ÏßÄ ÎßàÎùº.",
                    reaction: {
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ï†ú Î¨¥Î¶é ÎπåÎ†§ÎìúÎ¶¥ÍπåÏöî? ÏïÑÏ£º Ìé∏Ìï† ÌÖêÎç∞.",
                            log: "ÎãπÎ≥¥Í∞Ä ÏûêÏã†Ïùò ÌóàÎ≤ÖÏßÄÎ•º ÌÜ°ÌÜ° Ïπ©ÎãàÎã§."
                        },
                        "Î¨¥ÎçòÌï®": {
                            t2: "Ïòà, ÌïúÏà® Ï£ºÎ¨¥Ïã≠Ïáº. Í∑ºÏ≤òÎäî Ï†úÍ∞Ä ÏßÄÌÇ§Í≤†ÏäµÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä Í∞ÄÎßåÌûà ÏòÜÏóê ÏïâÏäµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÏûêÎäî ÎèôÏïà Îî¥ ÎÜà Ïù¥Î¶Ñ Î∂ÄÎ•¥Í∏∞Îßå Ìï¥Î≥¥Ïã≠Ïáº.",
                            log: "ÎãπÎ≥¥Í∞Ä Ï≤≠Î™ÖÏùò Ïù¥Î∂àÏùÑ ÍººÍººÌûà ÎçÆÏñ¥Ï£ºÎ©∞ Ï§ëÏñºÍ±∞Î¶ΩÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Îß§ÌôîÍ∞Ä ÌèàÎÑ§. Ïà† ÎßàÏãúÍ∏∞ Ï¢ãÏùÄ ÎÇ†Ïù¥Îã§.",
                    reaction: {
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÍΩÉÎ≥¥Îã§ {Ìò∏Ïπ≠} Îçî ÏïÑÎ¶ÑÎã§Ïö∞Ïã† Í≤å Î¨∏Ï†úÏ£†.",
                            log: "ÎãπÎ≥¥Í∞Ä ÍΩÉÍ∞ÄÎ£®Î•º ÌÑ∏Ïñ¥Ï£ºÎ©∞ ÎßêÌï©ÎãàÎã§."
                        },
                        "Î¨¥ÎçòÌï®": {
                            t2: "Í∑∏Îü¨Í≤å ÎßêÏûÖÎãàÎã§. Ïà†ÏÉÅ Î¥êÏò§Í≤†ÏäµÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä Î∂ÄÏßÄÎü∞Ìûà ÏõÄÏßÅÏûÖÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÍΩÉ Î≥¥ÎäêÎùº Ï†Ä Ïïà Î≥¥ÏãúÎäî Í±∞ ÏïÑÎãàÏ£†?",
                            log: "ÎãπÎ≥¥Í∞Ä Ï≤≠Î™ÖÏùò ÏãúÏÑ†ÏùÑ Í∞ÄÎ°úÎßâÏäµÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "ÎÑà ÏöîÏ¶ò Ïôú Ïù¥Î†áÍ≤å Ï°∞Ïö©ÌïòÎÉê? Ïñ¥Îîî ÏïÑÌîà Í±∞ ÏïÑÎÉê?",
                    reaction: {
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "{Ìò∏Ïπ≠} Í±±Ï†ïÌï¥ Ï£ºÏãúÎãàÍπå Í∞ëÏûêÍ∏∞ Îã§ ÎÇòÏùÄ Í≤É Í∞ôÏäµÎãàÎã§!",
                            log: "ÎãπÎ≥¥Í∞Ä Ï≤≠Î™ÖÏùò ÏÜêÏùÑ Îç•ÏÑù Ïû°ÏäµÎãàÎã§."
                        },
                        "Î¨¥ÎçòÌï®": {
                            t2: "Í∑∏ÎÉ• ÏÉùÍ∞ÅÌï† Í≤å Ï¢Ä ÏûàÏñ¥ÏÑú Í∑∏Î†áÏäµÎãàÎã§. Î©ÄÏ©°Ìï©ÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä ÏÇ¥Ïßù ÎØ∏ÏÜå ÏßìÏäµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "{Ìò∏Ïπ≠} Îã§Î•∏ ÎÜàÎì§Ïù¥ÎûëÎßå ÎÖ∏ÎãàÍπå Í∏∞Ïö¥Ïù¥ Ïïà ÎÇòÏ£†!",
                            log: "ÎãπÎ≥¥Í∞Ä ÏûÖÏà†ÏùÑ ÏÇêÏ£Ω ÎÇ¥Î∞âÎãàÎã§."
                        }
                    }
                }
            ],
            "ÏßàÌà¨ÎßéÏùå": [
                {
                    t1: "Ïïº, ÎãπÎ≥¥. ÎÑà ÏïÑÍπå Í∑∏ ÏÇ¨Ï≤úÏóêÏÑú Ïò® ÎÜàÏù¥Îûë Î≠êÍ∞Ä Í∑∏Î†áÍ≤å Ï¶êÍ±∞Ïõå Î≥¥Ïù¥ÎçîÎùº?",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Í∞ÄÎ¨∏ ÏÜåÏãùÏùÑ Ï†ÑÌï¥ Îì§ÏóàÏùÑ ÎøêÏûÖÎãàÎã§. Î≥ÑÏùº ÏïÑÎãôÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä ÌèâÏò®ÌïòÍ≤å ÎåÄÎãµÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÏôúÏöî? Ï†úÍ∞Ä Îî¥ ÎÜàÏù¥Îûë ÎÖ∏ÎãàÍπå Î∞∞ ÏïÑÌîÑÏã≠ÎãàÍπå? „Öã„Öã",
                            log: "ÎãπÎ≥¥Í∞Ä Ï≤≠Î™ÖÏùò ÏßàÌà¨Î•º Ï¶êÍ∏∞Î©∞ ÏõÉÏäµÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "Ï†ÄÎèÑ {Ìò∏Ïπ≠} Îã§Î•∏ Ï†úÏûêÎì§Ïù¥Îûë Î∂ôÏñ¥ ÏûàÎäî Í±∞ Î≥¥Í∏∞ Ïã´Í±∞Îì†Ïöî!",
                            log: "Îëê ÏÇ¨Îûå ÏÇ¨Ïù¥Ïóê Î∂àÍΩÉ ÌäÄÎäî Ïã†Í≤ΩÏ†ÑÏù¥ Î≤åÏñ¥ÏßëÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "ÎπÑÎèÑ Í¥ÄÎ¶¨Î•º Í∑∏Î†áÍ≤å Ïó¥Ïã¨Ìûà Ìï† Í±∞Î©¥ ÎÇ¥ Í≤ÄÎèÑ Ï¢Ä Î¥êÏ£ºÏßÄ Í∑∏Îûò? Ï†ïÏÑ±Ïù¥Îã§ Ï†ïÏÑ±.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Ïù¥Î¶¨ Ï£ºÏã≠ÏãúÏò§. Í∞ôÏù¥ Îã¶ÏïÑ ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä ÏàúÏàúÌûà Ï≤≠Î™ÖÏùò Í≤ÄÏùÑ Î∞õÏïÑÎì≠ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÎπÑÎèÑÎäî Ï†ú Î∂ÑÏã†Ïù¥ÎÇò Îã§Î¶ÑÏóÜÍ±∞Îì†Ïöî. {Ìò∏Ïπ≠}Ï≤òÎüºÏöî.",
                            log: "ÎãπÎ≥¥Í∞Ä ÎäêÎÅºÌïú Î©òÌä∏Î•º ÎÇ†Î¶ΩÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "ÎπÑÎèÑÎäî ÎèÑÍµ¨Ïùº ÎøêÏù¥ÏßÄÎßå {Ìò∏Ïπ≠}... ÏóêÌú¥, ÎßêÏùÑ ÎßôÏãúÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä ÌïúÏà®ÏùÑ Ïâ¨Î©∞ Í≥†Í∞úÎ•º Ï†ìÏäµÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "ÎÑà ÏöîÏ¶ò ÏûêÍæ∏ ÎÇò Î™∞Îûò Ïñ¥Îîî ÎÇòÍ∞ÄÎäî Í≤É Í∞ôÎã§? ÏàòÏÉÅÌï¥.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "{Ìò∏Ïπ≠} ÎìúÎ¶¥ Ïà† ÏÇ¨Îü¨ Í∞îÎçò Í≤ÅÎãàÎã§. Ïó¨Í∏∞ ÏûàÏäµÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä Ìíà ÏïàÏóêÏÑú Ïà†Î≥ëÏùÑ Í∫ºÎÉÖÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ïò§~ Ï†ÄÎ•º Í∑∏Î†áÍ≤å ÏßÄÏºúÎ≥¥Í≥† Í≥ÑÏÖ®Îçò Í≤ÅÎãàÍπå?",
                            log: "ÎãπÎ≥¥Í∞Ä Î∂ÄÎÅÑÎü¨ÏõåÌïòÎäî Ï≤ô Ïó∞Í∏∞Ìï©ÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "{Ìò∏Ïπ≠} Ï†Ä Ïïà Î¥êÏ£ºÏãúÎãàÍπå Ï†ÄÎèÑ Ï†ú Í∞à Í∏∏ Ï∞æÎäî Í±∞Ï£†!",
                            log: "ÎãπÎ≥¥Í∞Ä ÌôßÍπÄÏóê ÏïÑÎ¨¥ ÎßêÏù¥ÎÇò ÎÇ¥Î±âÏäµÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Îã§Î•∏ ÎÜàÎì§Ïù¥ ÎÑàÎ≥¥Í≥† ÎåÄÎã®Ìïú ÏïîÏ°¥Ïù¥ÎùºÍ≥† Îñ†ÎìúÎäî Í±∞ Î≥¥ÎãàÍπå Ï∞∏ ÏõÉÍ∏∞ÏßÄÎèÑ ÏïäÎçîÎùº.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "Í∑∏ÎÉ• ÌïòÎäî ÏÜåÎ¶¨Îì§Ïù¥Ï£†. Ïã†Í≤Ω Ïì∞ÏßÄ ÎßàÏã≠ÏãúÏò§.",
                            log: "ÎãπÎ≥¥Í∞Ä Î¨¥Ïã¨ÌïòÍ≤å Î∞òÏùëÌï©ÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "ÏßàÌà¨ÌïòÎäî {Ìò∏Ïπ≠} Î™®ÏäµÏù¥ Îçî ÏõÉÍ∏¥Îç∞Ïöî? Í∑ÄÏóΩÏäµÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä Ï≤≠Î™ÖÏùÑ ÎÜÄÎ¶¨Î©∞ ÏõÉÏùåÏùÑ ÌÑ∞Îú®Î¶ΩÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "{Ìò∏Ïπ≠}ÌïúÌÖåÎßå Ïù∏Ï†ïÎ∞õÏúºÎ©¥ Îê©ÎãàÎã§. Îî¥ ÎÜàÎì§ÏùÄ ÏÉÅÍ¥ÄÏóÜÏñ¥Ïöî.",
                            log: "ÎãπÎ≥¥Í∞Ä ÏßÑÏßÄÌïú ÎààÎπõÏúºÎ°ú Ï≤≠Î™ÖÏùÑ Î¥ÖÎãàÎã§."
                        }
                    }
                },
                {
                    t1: "Ïïº... ÎÑà, Í∑∏... ÏïÑÍπå ÏõÉÏñ¥Ï§Ä Í±∞. Í∑∏Í±∞ ÎÇòÌïúÌÖåÎßå Ìï¥Îùº. Îî¥ ÎÜàÎì§ÌïúÌÖå ÌùòÎ¶¨Í≥† Îã§ÎãàÏßÄ ÎßêÍ≥†.",
                    reaction: {
                        "Î¨¥ÎçòÌï®": {
                            t2: "...Ïòà? ÏïÑ, ÏïåÍ≤†ÏäµÎãàÎã§.",
                            log: "ÎãπÎ≥¥Í∞Ä ÎãπÌô©ÌïòÎ©∞ Í≥†Í∞úÎ•º ÎÅÑÎçïÏûÖÎãàÎã§."
                        },
                        "Îä•Í∏ÄÎßûÏùå": {
                            t2: "Ïñ¥Î®∏ÎÇò, {Ìò∏Ïπ≠} ÏßÄÍ∏à ÏÜåÏú†Ïöï Î∂ÄÎ¶¨ÏãúÎäî Í≤ÅÎãàÍπå? Ïñ¥Îñ°Ìï¥~",
                            log: "ÎãπÎ≥¥Í∞Ä ÏñºÍµ¥ÏùÑ Î∂âÌûàÎ©∞ Ï¢ãÏïÑÌï©ÎãàÎã§."
                        },
                        "ÏßàÌà¨ÎßéÏùå": {
                            t2: "{Ìò∏Ïπ≠}ÏïºÎßêÎ°ú ÏïÑÎ¨¥ÌïúÌÖåÎÇò Í∑∏Î†áÍ≤å ÌçºÏ£ºÏßÄ ÎßàÏã≠Ïáº!",
                            log: "ÎãπÎ≥¥ÎèÑ ÏßÄÏßÄ ÏïäÍ≥† ÎßûÎ∞õÏïÑÏπ©ÎãàÎã§."
                        }
                    }
                }
            ]
        },
        "love_interaction": {
            "dangbo": {
                "Îä•Í∏ÄÎßûÏùå": [
                    {
                        t1: "ÌòïÎãò, Ï†ú Ïã¨Ïû• ÏÜåÎ¶¨ Îì§Î¶¨Ïã≠ÎãàÍπå? ÌòïÎãòÎßå Î≥¥Î©¥ ÏïÑÏ£º ÏøµÏøµÍ±∞Î†§ Ï£ΩÍ≤†ÏäµÎãàÎã§.",
                        reaction: {
                            "Î¨¥ÎçòÌï®": {
                                t2: "Ïã¨Í≥ÑÍ∞Ä Î∂àÏïàÏ†ïÌïú Í±∞ÎÉê? ÏßÑÎß•Ïù¥ÎÇò Ìï¥Î¥êÎùº.",
                                log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Ïùò ÏÜêÎ™©ÏùÑ Ïû°ÏúºÎ†§ Ìï©ÎãàÎã§."
                            },
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "Ïñ¥Îîî ÏñºÎßàÎÇò Îõ∞ÎÇò Î≥¥Ïûê. ÎÇ¥Í∞Ä Î©àÏ∂îÍ≤å Ìï¥Ï§ÑÍπå?",
                                log: "Ï≤≠Î™ÖÏù¥ ÏßìÍ∂ÇÍ≤å ÎãπÎ≥¥Ïùò Í∞ÄÏä¥Ïóê ÏÜêÏùÑ ÎåëÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "ÏãúÎÅÑÎü¨Ïõå. Îî¥ ÎÜà ÏïûÏóêÏÑúÎèÑ Í∑∏Î†áÍ≤å Ïã¨Ïû•Ïù¥ Îõ∞ÎÉê?",
                                log: "Ï≤≠Î™ÖÏù¥ Ïù∏ÏÉÅÏùÑ Ïì∞Î©∞ Í∑ÄÎ•º ÎßâÏäµÎãàÎã§."
                            }
                        }
                    },
                    {
                        t1: "{Ìò∏Ïπ≠}, Ï†ÄÎûë ÌòºÏù∏ÌïòÏãúÏ£†. ÏÇ¨Ï≤úÎãπÍ∞ÄÎ•º ÏßÄÏ∞∏Í∏àÏúºÎ°ú Í∞ÄÏ†∏ÏôîÏäµÎãàÎã§.",
                        reaction: {
                            "Î¨¥ÎçòÌï®": {
                                t2: "ÎãπÍ∞ÄÍ∞Ä ÎÑ§ Í±∞ÎÉê? ÌóõÏÜåÎ¶¨ ÎßêÍ≥† Ïû†Ïù¥ÎÇò ÏûêÎùº.",
                                log: "Ï≤≠Î™ÖÏù¥ Ïñ¥Ïù¥ÏóÜÎã§Îäî ÎìØ ÌòÄÎ•º Ï∞πÎãàÎã§."
                            },
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "Í≤®Ïö∞ ÎãπÍ∞Ä ÌïòÎÇòÎ°ú? ÌôîÏÇ∞ Ï†ÑÏ≤¥Î•º Ï§òÎèÑ Î™®ÏûêÎùºÏßÄ.",
                                log: "Ï≤≠Î™ÖÏù¥ Í±∞ÎìúÎ¶ÑÏùÑ ÌîºÏö∞Î©∞ ÏõÉÏäµÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "ÌòºÏù∏Ïù¥ Ïû•ÎÇúÏù¥ÎÉê? ...Í∑∏ÎûòÏÑú, Ïñ∏Ï†ú Ìï† Í±¥Îç∞?",
                                log: "Ï≤≠Î™ÖÏù¥ ÏñºÍµ¥ÏùÑ Î∂âÌûàÎ©∞ Îî¥Ï≤≠ÏùÑ ÌîºÏõÅÎãàÎã§."
                            }
                        }
                    },
                    {
                        t1: "Ïà†Î≥¥Îã§ {Ìò∏Ïπ≠} Ìñ•Í∏∞Í∞Ä Îçî Ï∑®ÌïòÎäîÍµ∞Ïöî. Ïò§ÎäòÎî∞Îùº ÏúÑÌóòÌïòÏã≠ÎãàÎã§.",
                        reaction: {
                            "Î¨¥ÎçòÌï®": {
                                t2: "Ïà†Ï£ºÏ†ïÎèÑ Í∞ÄÏßÄÍ∞ÄÏßÄÎã§. Îã•ÏπòÍ≥† ÎßàÏãúÍ∏∞ÎÇò Ìï¥.",
                                log: "Ï≤≠Î™ÖÏù¥ Ïà†ÏûîÏùÑ ÎãπÎ≥¥ ÏûÖÏóê Î∞ÄÏñ¥ÎÑ£ÏäµÎãàÎã§."
                            },
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "Ï∑®ÌïòÎ©¥ Ï±ÖÏûÑÏ†∏ Ï§Ñ Í±∞ÎÉê? ÎßêÎßå ÌïòÏßÄ ÎßêÍ≥†.",
                                log: "Ï≤≠Î™ÖÏù¥ ÌÑ±ÏùÑÍ¥¥Í≥† ÎãπÎ≥¥Î•º Í∑∏ÏúΩÌïòÍ≤å Î¥ÖÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "ÌóàÌäºÏàòÏûë Î∂ÄÎ¶¨ÏßÄ ÎßàÎùº. Ïò§Îäò ÎÇ¥ Î∞©ÏóêÏÑú Î™ª ÎÇòÍ∞à Ï§Ñ ÏïåÏïÑ.",
                                log: "Ï≤≠Î™ÖÏù¥ Î∞©Î¨∏ÏùÑ Ïû†Í∑∏Îäî ÏãúÎäâÏùÑ Ìï©ÎãàÎã§."
                            }
                        }
                    }
                ],
                "ÏßàÌà¨ÎßéÏùå": [
                    {
                        t1: "ÏïÑÍπå Í∑∏ ÎÖÄÏÑùÏù¥ {Ìò∏Ïπ≠} Ï≥êÎã§Î≥¥Îäî ÎààÎπõÏù¥ ÎßòÏóê Ïïà Îì≠ÎãàÎã§. ÎààÏùÑ ÎΩëÏïÑÎ≤ÑÎ¶¥ÍπåÏöî?",
                        reaction: {
                            "Î¨¥ÎçòÌï®": {
                                t2: "Îòê ÏãúÏûëÏù¥ÎÑ§. Í∑∏ÎÉ• Ï¢Ä ÎÉÖÎë¨Îùº.",
                                log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Î•º ÏßÑÏ†ïÏãúÌÇµÎãàÎã§."
                            },
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "Ïôú, ÎÇò Î∫èÍ∏∏Íπå Î¥ê Í≤ÅÎÇòÎÉê? Í∑ÄÏó¨Ïö¥ ÎÖÄÏÑù.",
                                log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Ïùò Î≥ºÏùÑ Íº¨ÏßëÏäµÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "ÎÇòÎèÑ ÏïÑÍπå ÎÑ§Í∞Ä Îî¥ ÎÜàÌïúÌÖå ÏõÉÏñ¥Ï£ºÎäî Í±∞ Í±∞Ïä¨Î†∏Í±∞Îì†?",
                                log: "ÏÑúÎ°úÏùò ÏßàÌà¨Ïã¨Ïù¥ Ìè≠Î∞úÌï©ÎãàÎã§."
                            }
                        }
                    },
                    {
                        t1: "{Ìò∏Ïπ≠}ÏùÄ Ï†ú Í≤ÅÎãàÎã§. Î®∏Î¶¨Ïπ¥ÎùΩ Ìïú Ïò¨ÎèÑ ÎÇ®ÌïúÌÖå Î™ª Ï§çÎãàÎã§.",
                        reaction: {
                            "Î¨¥ÎçòÌï®": {
                                t2: "Ïù¥Í≤å Ïõ¨ ÏßëÏ∞©Ïù¥Ïïº... ÏïåÏïòÎã§, ÏïåÏïòÏñ¥.",
                                log: "Ï≤≠Î™ÖÏù¥ ÏßàÎ¶∞Îã§Îäî ÌëúÏ†ïÏùÑ ÏßìÏäµÎãàÎã§."
                            },
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "Í∑∏Îûò, Îã§ ÎÑ§ Í±∞Îã§. Ïù¥Ï†ú ÎßåÏ°±ÌïòÎÉê?",
                                log: "Ï≤≠Î™ÖÏù¥ ÎãπÎ≥¥Î•º ÎÅåÏñ¥ÏïàÏïÑ Ï§çÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "ÎãπÏó∞Ìïú ÏÜåÎ¶¥. ÎÑàÎèÑ ÎÇ¥ Í±∞ÎãàÍπå Ïñ¥Îîî Í∞ÄÏßÄ Îßà.",
                                log: "ÏÜåÏú†ÏöïÏù¥ Î∂àÌÉÄÏò§Î¶ÖÎãàÎã§."
                            }
                        }
                    }
                ]
            },
            "chung": {
                "Î¨¥ÎçòÌï®": [
                    {
                        t1: "Ïïº. ...ÏïÑÎãà, Í∑∏ÎÉ•. ÏñºÍµ¥ Ï¢Ä Î≥¥ÏûêÍ≥†. Ïù¥Î¶¨ ÏôÄ Î¥ê.",
                        reaction: {
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "Ï†ú ÏñºÍµ¥Ïù¥ Í∑∏Î†áÍ≤å Ï¢ãÏúºÏã≠ÎãàÍπå? Îã≥Í≤†ÏäµÎãàÎã§, ÌòïÎãò.",
                                log: "ÎãπÎ≥¥Í∞Ä ÏñºÍµ¥ÏùÑ Í∞ÄÍπåÏù¥ Îì§Ïù¥Î∞âÎãàÎã§."
                            },
                            "Î¨¥ÎçòÌï®": {
                                t2: "Í∞ëÏûêÍ∏∞ Ïôú Í∑∏Îü¨Ïã≠ÎãàÍπå? Ïñ¥Îîî ÏïÑÌîÑÏã≠ÎãàÍπå?",
                                log: "ÎãπÎ≥¥Í∞Ä Ï≤≠Î™ÖÏùò Ïù¥ÎßàÎ•º ÏßöÏäµÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "Îî¥ ÎÜà Î≥¥ÏßÄ ÎßêÍ≥† Ï†ÄÎßå Î≥¥Ïã≠Ïáº. ÌèâÏÉù.",
                                log: "ÎãπÎ≥¥Í∞Ä Ï≤≠Î™ÖÏùò ÏãúÏÑ†ÏùÑ Í≥†Ï†ïÏãúÌÇµÎãàÎã§."
                            }
                        }
                    },
                    {
                        t1: "ÎÑà Ïò§ÎäòÎî∞Îùº Ïú†ÎèÖ Í±∞Ïä¨Î¶¨ÎÑ§. ...ÎÇ¥ ÏòÜÏóê Îî± Î∂ôÏñ¥ ÏûàÏñ¥Îùº. Îñ®Ïñ¥ÏßÄÏßÄ ÎßêÍ≥†.",
                        reaction: {
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "Ïñ¥Î®∏, ÌòïÎãò. Ï†Ä ÎÜìÏπ†Íπå Î¥ê Î¨¥ÏÑúÏö∞Ïã≠ÎãàÍπå?",
                                log: "ÎãπÎ≥¥Í∞Ä ÌåîÏß±ÏùÑ ÎÇçÎãàÎã§."
                            },
                            "Î¨¥ÎçòÌï®": {
                                t2: "Ïòà, ÌòïÎãò ÍªåÎî±ÏßÄÏ≤òÎüº Î∂ôÏñ¥ ÏûàÍ≤†ÏäµÎãàÎã§.",
                                log: "ÎãπÎ≥¥Í∞Ä ÏàúÏàúÌûà ÏòÜÏóê ÏïâÏäµÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "Î™ÖÎ†π Ïïà ÌïòÏÖîÎèÑ Ï∞∞Í∞ÄÎ®∏Î¶¨Ï≤òÎüº Î∂ôÏñ¥ÏûàÏùÑ Í≤ÅÎãàÎã§!",
                                log: "ÎãπÎ≥¥Í∞Ä Ï≤≠Î™ÖÏùò Ïò∑ÏûêÎùΩÏùÑ ÍΩâ Ï•°ÎãàÎã§."
                            }
                        }
                    },
                    {
                        t1: "ÏÜê Ï§òÎ¥ê. ...Ï∞®Í∞ÄÏö∞ÎãàÍπå Ïû°Í≥† ÏûàÏúºÎùºÍ≥†. Î≥ÑÎúª ÏóÜÎã§.",
                        reaction: {
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "ÏñºÍµ¥ÏùÄ ÌôçÏãúÍ∞Ä ÎèºÏÑú Î≥ÑÎúª ÏóÜÏúºÏãúÎãµÎãàÎã§~",
                                log: "ÎãπÎ≥¥Í∞Ä ÍπçÏßÄÎ•º ÎÇçÎãàÎã§."
                            },
                            "Î¨¥ÎçòÌï®": {
                                t2: "ÌòïÎãò ÏÜêÏù¥ Îçî Îî∞ÎúªÌïòÍµ∞Ïöî. Ï¢ãÏäµÎãàÎã§.",
                                log: "Îëê ÏÇ¨ÎûåÏù¥ ÏÜêÏùÑ Ïû°Í≥† Í±∑ÏäµÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "Ïù¥ ÏÜê Ï†àÎåÄ ÎÜìÏßÄ ÎßàÏã≠Ïáº. ÎÜìÏúºÎ©¥ Î≠ÖÎãàÎã§.",
                                log: "ÎãπÎ≥¥Í∞Ä ÏÜêÏùÑ ÍΩâ Ïû°ÏäµÎãàÎã§."
                            }
                        }
                    }
                ],
                "Îä•Í∏ÄÎßûÏùå": [
                    {
                        t1: "ÎãπÎ≥¥Ïïº, ÎÑà Ïò§Îäò Ï¢Ä ÎßõÏûàÍ≤å ÏÉùÍ≤ºÎã§? ÌïúÏûÖÎßå Î®πÏûê.",
                        reaction: {
                            "Îä•Í∏ÄÎßûÏùå": {
                                t2: "Ïñ¥Î®∏ ÌòïÎãòÎèÑ Ï∞∏, Î∞§Ïóê ÎìúÏÖîÏïºÏ£†. ÏßÄÍ∏àÏùÄ ÎåÄÎÇÆÏûÖÎãàÎã§.",
                                log: "ÎãπÎ≥¥Í∞Ä ÏúôÌÅ¨Î•º ÎÇ†Î¶ΩÎãàÎã§."
                            },
                            "Î¨¥ÎçòÌï®": {
                                t2: "Ï†úÍ∞Ä ÏùåÏãùÏûÖÎãàÍπå? ÌóõÏÜåÎ¶¨ ÎßàÏã≠Ïáº.",
                                log: "ÎãπÎ≥¥Í∞Ä Ï†ïÏÉâÌïòÏßÄÎßå Í∑ÄÎäî Îπ®Í∞úÏ°åÏäµÎãàÎã§."
                            },
                            "ÏßàÌà¨ÎßéÏùå": {
                                t2: "Ï†ÄÎßå ÎìúÏÖîÏïº Ìï©ÎãàÎã§? Îî¥ ÎÜà ÎßõÎ≥¥Î©¥ Ï£ΩÏäµÎãàÎã§.",
                                log: "ÎãπÎ≥¥Í∞Ä Î™©ÏùÑ ÎÇ¥Ïñ¥Ï§çÎãàÎã§."
                            }
                        }
                    }
                ]
            }
        },
        "solo": {
            dangbo: ["{Ìò∏Ïπ≠}ÏùÄ Ïò§ÎäòÎèÑ Í∏∞Ïö¥Ïù¥ ÎÑòÏπòÏãúÎäîÍµ∞.", "ÎèÖÏùÑ Ï¢Ä Îçî Í∞úÎüâÌï¥Î≥ºÍπå...", "ÎπÑÎèÑ Îã¶Í∏∞ Ï¢ãÏùÄ ÎÇ†Ïî®Îã§."],
            chung: ["ÏïÑÏò§, ÏÇ≠Ïã†Ïù¥Ïïº.", "ÎãπÍ≥ºÍ∞Ä Îã§ Îñ®Ïñ¥Ï°åÎäîÎç∞...", "Ïà† Í∞ÄÏ†∏ÏôÄ, Ïà†!"]
        }
    };

    // ================= 3. Ï†ÑÏó≠ Î≥ÄÏàò Î∞è ÏãúÍ∞Ñ ÏãúÏä§ÌÖú =================
    let currentUserId = 'dangbo';
    let currentTab = 'profile';
    let isInteracting = false;
    const DAY_IN_MS = 40000;

    // Ï†ÄÏû•Îêú ÎÇ†Ïßú Î°úÎìú
    let gameDate = JSON.parse(localStorage.getItem('savedGameDate')) || {
        month: 3,
        day: 1
    };

    // [Ï∂îÍ∞Ä] Î°úÍ∑∏ Ï†ÄÏû•ÏÜå Î°úÎìú
    let gameLogs = JSON.parse(localStorage.getItem('hapsa_game_logs')) || [];

    let lastTimeCheck = Date.now();
    let lastDialogTime = parseInt(localStorage.getItem('savedLastDialogTime')) || 0;

    function getSeason(month) {
        if (month >= 3 && month <= 5) return 'spring';
        if (month >= 6 && month <= 8) return 'summer';
        if (month >= 9 && month <= 11) return 'autumn';
        return 'winter';
    }

    function updateTime() {
        const now = Date.now();
        if (now - lastTimeCheck >= DAY_IN_MS) {
            lastTimeCheck = now;
            advanceDay();
        }
        updateDateUI();
        requestAnimationFrame(updateTime);
    }

    function advanceDay() {
        gameDate.day++;
        if (gameDate.day > 30) {
            gameDate.day = 1;
            gameDate.month++;
            if (gameDate.month > 12) gameDate.month = 1;
        }

        const isEventDay = (gameDate.day === 10 || gameDate.day === 20 || gameDate.day === 30);
        addLog(`${gameDate.month}Ïõî ${gameDate.day}ÏùºÏù¥ ÎêòÏóàÏäµÎãàÎã§`, true);

        if (isEventDay) {
            setTimeout(triggerSpecialEvent, 1000);
        }

        localStorage.setItem('savedGameDate', JSON.stringify(gameDate));
        updateDateUI();
    }

    function triggerSpecialEvent() {
        const season = getSeason(gameDate.month);
        const data = specialEventDB[season];
        if (!data) return;

        const popup = document.getElementById('event-popup');
        if (popup) {
            document.getElementById('popup-title').innerText = data.title;
            document.getElementById('popup-desc').innerText = "Ïä§ÌéòÏÖú ÏóêÌîºÏÜåÎìú!";
            popup.classList.add('show');
            setTimeout(() => popup.classList.remove('show'), 3000);
        }

        addLog(`<span style="color:#d35400;">[${data.title}]</span> ${data.log}`, false);
        showBubble('dangbo', data.talk.dangbo, 'high');
        setTimeout(() => showBubble('chung', data.talk.chung, 'low'), 1500);
    }

    function updateDateUI() {
        const seasonKey = getSeason(gameDate.month);
        const season = seasonInfo[seasonKey];
        const header = document.getElementById('log-header-text');
        if (header) header.innerText = `${season.icon} ${season.name} | ${gameDate.month}Ïõî ${gameDate.day}ÏùºÏùò Í∏∞Î°ù`;

        const bg = document.getElementById('game-bg');
        if (bg) bg.style.backgroundImage = `url('bg/${seasonKey}.jpg')`;
    }

    // ================= 4. UI Î∞è Î†åÎçîÎßÅ =================
    function toggleInfoPanel() {
        const panel = document.getElementById('info-panel');
        const btn = document.getElementById('mobile-toggle-btn');
        panel.classList.toggle('open');
        btn.innerText = panel.classList.contains('open') ? '‚ñ≤' : '‚ñº';
    }

    function selectCharacter(id) {
        currentUserId = id;
        document.querySelectorAll('.char-select-btn').forEach(b => b.classList.remove('active'));
        const btn = document.getElementById(id === 'dangbo' ? 'btn-dangbo' : 'btn-chung');
        if (btn) btn.classList.add('active');
        renderInfoContent();
    }

    function switchTab(tabName) {
        currentTab = tabName;
        document.querySelectorAll('.sub-tab-btn').forEach(b => {
            b.classList.remove('active');
            const tabMap = {
                'profile': 'ÌîÑÎ°úÌïÑ',
                'inventory': 'ÏÜåÏßÄÌíà',
                'relation': 'Í¥ÄÍ≥Ñ'
            };
            if (b.innerText === tabMap[tabName]) b.classList.add('active');
        });
        renderInfoContent();
    }

    function renderInfoContent() {
        const data = charData[currentUserId];
        const display = document.getElementById('info-display-area');
        if (!display) return;

        let html = '';

        if (currentTab === 'profile') {
            const traitOptions = personalityList.map(p =>
                `<option value="${p}" ${data.trait === p ? 'selected' : ''}>${p}</option>`
            ).join('');
            const nameTagColor = getContrastYIQ(data.color);

            html = `
            <div style="text-align:center; margin-bottom:20px; padding-bottom:10px; border-bottom:1px solid #eee;">
                <h2 id="char-name-display" class="char-signature-font" style="color:${data.color}; margin-bottom:5px;">${data.name}</h2>
                <span id="char-title-display" class="char-signature-font" style="background:${data.color}; color:${nameTagColor}; padding:3px 8px; border-radius:10px; font-size:0.8rem;">${data.title}</span>
            </div>
            
            <div style="display:flex; gap:10px; width:100%;">
                <div class="info-box" style="flex:1; margin-bottom:10px;">
                    <span class="info-label">üìç ÏúÑÏπò (Í≥µ/Ïàò)</span>
                    <select class="custom-select" onchange="updateCharSetting('position', this.value)">
                        <option value="left" ${data.position === 'left' ? 'selected' : ''}>ÏôºÏ™Ω (Í≥µ)</option>
                        <option value="right" ${data.position === 'right' ? 'selected' : ''}>Ïò§Î•∏Ï™Ω (Ïàò)</option>
                    </select>
                </div>
                <div class="info-box" style="flex:1; margin-bottom:10px;">
                    <span class="info-label">‚öß ÏÑ±Î≥Ñ</span>
                    <select class="custom-select" onchange="updateCharSetting('gender', this.value)">
                        <option value="ÎÇ®ÏÑ±" ${data.gender === 'ÎÇ®ÏÑ±' ? 'selected' : ''}>ÎÇ®ÏÑ± ‚ôÇÔ∏è</option>
                        <option value="Ïó¨ÏÑ±" ${data.gender === 'Ïó¨ÏÑ±' ? 'selected' : ''}>Ïó¨ÏÑ± ‚ôÄÔ∏è</option>
                    </select>
                </div>
            </div>

            <div class="info-box">
                <span class="info-label">üß† ÏÑ±Í≤© ÏÑ§Ï†ï</span>
                <select class="custom-select" onchange="updateCharSetting('trait', this.value)">
                    ${traitOptions}
                </select>
            </div>

            <div class="info-box">
                <span class="info-label">üé® ÎåÄÌëú Ïª¨Îü¨ ÏÑ§Ï†ï</span>
                <div style="display:flex; align-items:center; gap:10px;">
                    <input type="color" value="${data.color}" onchange="updateCharSetting('color', this.value)" style="width:50px; height:30px; padding:0; border:none; background:none; cursor:pointer;">
                    <span style="font-size:0.8rem; color:#666;">ÌÅ¥Î¶≠ÌïòÏó¨ Î≥ÄÍ≤Ω</span>
                </div>
            </div>
            <button class="save-btn" onclick="saveCharacterSettings()">üíæ ÏÑ§Ï†ï Ï†ÄÏû•ÌïòÍ∏∞</button>
            `;
        } else if (currentTab === 'inventory') {
            html = `<div style="padding:5px;">
                        <div style="margin-bottom:10px; font-weight:bold; color:#555;">ÏÜåÏßÄÌïòÍ≥† ÏûàÎäî Î¨ºÌíà</div>
                        ${data.inventory.map(i => `<span class="item-badge">${i}</span>`).join('')}
                    </div>`;
        } else if (currentTab === 'relation') {
            html = `<div style="padding:5px;">`;
            html += `
                <div class="info-box" style="margin-bottom:15px; background:#f9f9f9;">
                    <div style="font-weight:bold; margin-bottom:5px; color:#333;">üìä ÌòÑÏû¨ Í¥ÄÍ≥ÑÎèÑ</div>
                    <div style="display:flex; justify-content:space-between; margin-bottom:5px;">
                        <span>ü§ù ÏπúÎ∞ÄÎèÑ: <b>${data.intimacy}</b></span>
                        <span class="badge-title" style="background:#ddd; padding:2px 6px; border-radius:4px; font-size:0.8rem;">${data.relationshipTitle}</span>
                    </div>
                    ${data.affection > 0 || data.maxAffectionLevelIdx > 0 ? `
                    <div style="display:flex; justify-content:space-between; color:#e91e63;">
                        <span>üíï Ìò∏Í∞êÎèÑ: <b>${data.affection}</b></span>
                        <span class="badge-love" style="background:#fce4ec; padding:2px 6px; border-radius:4px; font-size:0.8rem;">${data.loveTitle}</span>
                    </div>` : ''}
                </div>
            `;
            html += data.relations.map(r => `
                <div class="rel-card">
                    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:5px;">
                        <strong style="font-size:1rem;">To. ${r.target}</strong>
                        <span style="font-size:0.8rem; background:#eee; padding:2px 6px; border-radius:4px;">${r.rel}</span>
                    </div>
                    <div style="font-size:0.9rem; color:#666;">${fillTitle(r.desc, data.title)}</div>
                </div>`).join('');
            html += `</div>`;
        }
        display.innerHTML = html;
    }

    function saveCharacterSettings(isSilent = false) {
        localStorage.setItem('hapsa_char_settings', JSON.stringify(charData));
        if (!isSilent) {
            alert("ÏÑ§Ï†ïÏù¥ Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§.");
        }
    }

    function loadCharacterSettings() {
        const saved = localStorage.getItem('hapsa_char_settings');
        if (saved) {
            const parsed = JSON.parse(saved);
            Object.keys(parsed).forEach(key => {
                if (charData[key]) {
                    charData[key].gender = parsed[key].gender;
                    charData[key].trait = parsed[key].trait;
                    if (parsed[key].color) charData[key].color = parsed[key].color;
                    if (parsed[key].position) charData[key].position = parsed[key].position;
                    // Ï†ÄÏû•Îêú Ï†êÏàò Î∞è Ïπ≠Ìò∏ Î∂àÎü¨Ïò§Í∏∞
                    if (parsed[key].intimacy !== undefined) charData[key].intimacy = parsed[key].intimacy;
                    if (parsed[key].affection !== undefined) charData[key].affection = parsed[key].affection;
                    if (parsed[key].maxIntimacyLevelIdx !== undefined) charData[key].maxIntimacyLevelIdx = parsed[key].maxIntimacyLevelIdx;
                    if (parsed[key].maxAffectionLevelIdx !== undefined) charData[key].maxAffectionLevelIdx = parsed[key].maxAffectionLevelIdx;
                    if (parsed[key].relationshipTitle) charData[key].relationshipTitle = parsed[key].relationshipTitle;
                    if (parsed[key].loveTitle) charData[key].loveTitle = parsed[key].loveTitle;
                }
            });
        }
    }

    function updateCharSetting(key, value) {
        if (charData[currentUserId]) {
            charData[currentUserId][key] = value;
            if (key === 'color') {
                const nameEl = document.getElementById('char-name-display');
                if (nameEl) nameEl.style.color = value;
                const titleEl = document.getElementById('char-title-display');
                if (titleEl) {
                    titleEl.style.backgroundColor = value;
                    titleEl.style.color = getContrastYIQ(value);
                }
            }
        }
    }

    // [ÏàòÏ†ï] Î°úÍ∑∏ Ï†ÄÏû• Í∏∞Îä• Ï∂îÍ∞Ä: customTimeÏù¥ ÏûàÏúºÎ©¥ Ï†ÄÏû•Îêú ÏãúÍ∞Ñ ÏÇ¨Ïö©
    function addLog(msg, isSpecial = false, customTime = null) {
        const box = document.getElementById('log-box');
        if (!box) return;

        // 1. ÏãúÍ∞Ñ Í≤∞Ï†ï (ÏÉà Î°úÍ∑∏Î©¥ ÌòÑÏû¨ ÏãúÍ∞Ñ, Î≥µÍµ¨Îêú Î°úÍ∑∏Î©¥ Ï†ÄÏû•Îêú ÏãúÍ∞Ñ)
        const timeStr = customTime || new Date().toLocaleTimeString('ko-KR', {
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit'
        });

        const d = document.createElement('div');
        if (isSpecial) {
            d.className = 'log-entry log-date';
            d.innerHTML = `<div style="font-weight:bold; font-style:italic; opacity:0.8;">‚îÄ ${msg} ‚îÄ</div>`;
        } else {
            d.className = 'log-entry';

            // Love Ïù¥Î≤§Ìä∏ Î°úÍ∑∏ Ïä§ÌÉÄÏùº Ï†ÅÏö© (ÌïëÌÅ¨ÏÉâ)
            if (msg.includes('[Love Ïù¥Î≤§Ìä∏ Î∞úÎèô!]')) {
                d.style.backgroundColor = "#fff0f5"; // Ïó∞Ìïú ÌïëÌÅ¨ Î∞∞Í≤Ω
                d.style.borderLeft = "4px solid #e91e63"; // ÏßÑÌïú ÌïëÌÅ¨ ÌÖåÎëêÎ¶¨
                d.style.color = "#d81b60"; // Í∞ÄÎèÖÏÑ± Ï¢ãÏùÄ ÌïëÌÅ¨ ÌÖçÏä§Ìä∏
            } else if (msg.includes('[ÎåÄÌôî]')) {
                d.classList.add('log-social');
            } else {
                d.classList.add('log-system');
            }

            const formattedMsg = msg.replace(/\[(.*?)\]/g, '<span style="font-weight:bold;">[$1]</span>');
            d.innerHTML = `<span class="log-time">${timeStr}</span>${formattedMsg}`;
        }

        // Ï§ëÏöî: Î°úÍ∑∏Î•º ÌôîÎ©¥Ïóê Ï∂îÍ∞Ä
        box.prepend(d);
        if (box.children.length > 50) box.lastChild.remove();

        // 2. ÏÉà Î°úÍ∑∏ÎùºÎ©¥(customTimeÏù¥ ÏóÜÎã§Î©¥) Î°úÏª¨Ïä§ÌÜ†Î¶¨ÏßÄÏóê Ï†ÄÏû•
        if (!customTime) {
            gameLogs.push({
                msg: msg,
                isSpecial: isSpecial,
                time: timeStr
            });
            // Ï†ÄÏû• Í∞ØÏàò Ï†úÌïú (ÏµúÍ∑º 50Í∞úÎßå Ï†ÄÏû•)
            if (gameLogs.length > 50) gameLogs.shift();
            localStorage.setItem('hapsa_game_logs', JSON.stringify(gameLogs));
        }
    }

    // [Ï∂îÍ∞Ä] Ï†ÄÏû•Îêú Î°úÍ∑∏ Î≥µÍµ¨ Ìï®Ïàò
    function restoreLogs() {
        // Ïò§ÎûòÎêú ÏàúÏÑúÎåÄÎ°ú ÎêòÏñ¥ ÏûàÎäî Î∞∞Ïó¥ÏùÑ Ïó≠ÏàúÏúºÎ°ú Ï≤òÎ¶¨ÌïòÏßÄ ÏïäÍ≥†,
        // addLogÍ∞Ä prepend(Îß® ÏúÑÎ°ú Ï∂îÍ∞Ä)ÌïòÎØÄÎ°ú, Í≥ºÍ±∞ Î°úÍ∑∏Î∂ÄÌÑ∞ ÏàúÏÑúÎåÄÎ°ú ÎÑ£Ïñ¥Ïïº ÌôîÎ©¥ÏóêÏÑú ÏïÑÎûòÎ°ú Î∞ÄÎ¶º
        // ÌïòÏßÄÎßå Ï±ÑÌåÖÏùÄ ÏµúÏã†Ïù¥ Îß® ÏúÑÏù¥ÎØÄÎ°ú, Ïò§ÎûòÎêú Í≤ÉÎ∂ÄÌÑ∞ addLogÎ•º Ìò∏Ï∂úÌïòÎ©¥
        // [Old1] -> [Old2, Old1] ... ÏàúÏúºÎ°ú ÏåìÏûÑ.
        // Ï±ÑÌåÖÏ∞ΩÏù¥ 'ÏúÑÎ°ú ÏåìÏù¥Îäî' Íµ¨Ï°∞(prepend)ÎùºÎ©¥, Î∞∞Ïó¥Ïùò 0Î≤à(Í∞ÄÏû• Ïò§ÎûòÎêú Í≤É)Î∂ÄÌÑ∞ ÎÑ£ÎäîÍ≤å ÎßûÏùå.
        gameLogs.forEach(log => {
            addLog(log.msg, log.isSpecial, log.time);
        });
    }

    // ================= 5. Ïù¥Îèô Î∞è ÏÉÅÌò∏ÏûëÏö© =================
    function initCharacters() {
        const stage = document.getElementById('game-stage');
        if (!stage) return;

        for (const [id, data] of Object.entries(charData)) {
            const el = document.createElement('div');
            el.className = 'character-sprite';
            el.id = `char-${id}`;
            el.style.left = data.x + '%';
            el.style.top = data.y + '%';
            el.innerHTML = `
                    <div class="bubble" id="bubble-${id}">...</div>
                    <img src="${data.img}" onerror="this.src='https://via.placeholder.com/100?text=${data.name}'">
                    <div style="background:rgba(0,0,0,0.6); color:white; font-size:11px; padding:2px 6px; border-radius:10px; margin-top:5px; font-weight:bold;">${data.name}</div>
                `;
            el.onclick = () => {
                selectCharacter(id);
                if (window.innerWidth <= 768) toggleInfoPanel();
            };
            stage.appendChild(el);
            scheduleNextMove(id);
        }
    }

    function moveTo(id, targetX, targetY, callback) {
        const el = document.getElementById(`char-${id}`);
        const data = charData[id];
        if (!el) return;

        const dist = Math.sqrt(Math.pow(targetX - data.x, 2) + Math.pow(targetY - data.y, 2));
        const speedFactor = 0.05;
        const duration = Math.max(1.5, dist * speedFactor);

        el.style.transition = `top ${duration}s linear, left ${duration}s linear`;
        el.classList.add('walking');
        el.style.left = targetX + '%';
        el.style.top = targetY + '%';

        data.x = targetX;
        data.y = targetY;

        setTimeout(() => {
            el.classList.remove('walking');
            if (callback) callback();
        }, duration * 1000);
    }

    function scheduleNextMove(id) {
        if (isInteracting) return;

        const waitTime = Math.random() * 2000 + 1000;

        setTimeout(() => {
            if (isInteracting) {
                scheduleNextMove(id);
                return;
            }

            const rand = Math.random();
            const isCooltime = (Date.now() - lastDialogTime) < 3000;

            if (id === 'dangbo' && rand < 0.4 && !isCooltime) {
                triggerInteraction();
            } else if (rand < 0.7) {
                triggerMonologue(id);
                const tx = Math.random() * 80 + 10;
                const ty = Math.random() * 60 + 20;
                moveTo(id, tx, ty, () => scheduleNextMove(id));
            } else {
                const tx = Math.random() * 80 + 10;
                const ty = Math.random() * 60 + 20;
                moveTo(id, tx, ty, () => scheduleNextMove(id));
            }
        }, waitTime);
    }

    // [ÏàòÏ†ï] ÏÉÅÌò∏ÏûëÏö© Ìä∏Î¶¨Í±∞ (Î¨¥Ï°∞Í±¥ ÌôîÎ©¥ Ï§ëÏïôÏóêÏÑú ÎßåÎÇ®)
    function triggerInteraction() {
        if (isInteracting) return;
        isInteracting = true;

        const c1 = charData['dangbo'];
        const c2 = charData['chung'];

        // 1. ÎßåÎÇòÎäî ÏßÄÏ†ê(XÏ¢åÌëú)ÏùÑ Î¨¥Ï°∞Í±¥ '50(ÌôîÎ©¥ Ï†ïÏ§ëÏïô)'ÏúºÎ°ú Í≥†Ï†ï
        // Í∏∞Ï°¥ Î°úÏßÅ: let meetX = (c1.x + c2.x) / 2; (Îëò ÏÇ¨Ïù¥Ïùò Ï§ëÍ∞Ñ ÏßÄÏ†ê)
        let meetX = 50; 

        // YÏ¢åÌëú(ÎÜíÏù¥)Îäî Îëê ÏÇ¨ÎûåÏùò Ï§ëÍ∞Ñ ÎÜíÏù¥Î°ú Ïú†ÏßÄ (ÎÑàÎ¨¥ ÏúÑ/ÏïÑÎûòÎ°ú ÌäÄÏßÄ ÏïäÍ≤å)
        const meetY = (c1.y + c2.y) / 2;

        let arrivedCount = 0;
        const onArrive = () => {
            arrivedCount++;
            if (arrivedCount === 2) startDialog();
        };

        const gap = window.innerWidth <= 768 ? 16 : 8; // Î™®Î∞îÏùºÏùÄ Ï¢Ä Îçî ÎÑìÍ≤å Î≤åÎ¶º
        const isDangboLeft = c1.position === 'left'; 

        // Ï§ëÏïô(50)ÏùÑ Í∏∞Ï§ÄÏúºÎ°ú Ï¢åÏö∞Î°ú gapÎßåÌÅº Îñ®Ïñ¥Ï†∏ÏÑú ÏÑ¨
        const dangboTargetX = isDangboLeft ? (meetX - gap) : (meetX + gap);
        const chungTargetX = isDangboLeft ? (meetX + gap) : (meetX - gap);

        // Îëê Ï∫êÎ¶≠ÌÑ∞ Î™®Îëê Ï§ëÏïôÏúºÎ°ú Ïù¥Îèô ÏãúÏûë
        moveTo('dangbo', dangboTargetX, meetY, onArrive);
        moveTo('chung', chungTargetX, meetY, onArrive);
    }

    // ================= 6. ÎåÄÌôî Î∞è Ï†êÏàò Î°úÏßÅ =================
    function startDialog() {
        const isDangboStarts = Math.random() < 0.5;
        const starterId = isDangboStarts ? 'dangbo' : 'chung';
        const listenerId = isDangboStarts ? 'chung' : 'dangbo';

        const starterData = charData[starterId];
        const listenerData = charData[listenerId];

        let title = "ÌòïÎãò";
        if (charData['dangbo'].gender === 'Ïó¨ÏÑ±' && charData['chung'].gender === 'Ïó¨ÏÑ±') title = "Ïñ∏Îãà";
        else if (charData['dangbo'].gender === 'ÎÇ®ÏÑ±' && charData['chung'].gender === 'Ïó¨ÏÑ±') title = "ÎàÑÎãò";
        else if (starterId === 'dangbo') title = "ÎèÑÏÇ¨ ÌòïÎãò";

        // Love Ïù¥Î≤§Ìä∏ Ï≤¥ÌÅ¨
        let isLoveMode = false;
        if (starterData.affection >= 10 && Math.random() < 0.4) {
            isLoveMode = true;
        }

        let dbSection;
        let starterPers = starterData.trait;
        let listenerPers = listenerData.trait;

        if (isLoveMode && dialogDB.love_interaction && dialogDB.love_interaction[starterId]) {
            const loveDB = dialogDB.love_interaction[starterId];
            if (loveDB[starterPers]) {
                dbSection = loveDB[starterPers];
            } else {
                const defaultTrait = (starterId === 'dangbo') ? "Îä•Í∏ÄÎßûÏùå" : "Î¨¥ÎçòÌï®";
                dbSection = loveDB[defaultTrait] || loveDB[Object.keys(loveDB)[0]];
            }
        } else {
            isLoveMode = false;
            if (starterId === 'dangbo') {
                dbSection = dialogDB.dangbo_start[starterPers] || dialogDB.dangbo_start["Îä•Í∏ÄÎßûÏùå"];
            } else {
                dbSection = dialogDB.chung_start[starterPers] || dialogDB.chung_start["Î¨¥ÎçòÌï®"];
            }
        }

        const scenario = dbSection[Math.floor(Math.random() * dbSection.length)];
        const response = scenario.reaction[listenerPers] || scenario.reaction["Î¨¥ÎçòÌï®"];

        showBubble(starterId, fillTitle(scenario.t1, title), starterId === 'dangbo' ? 'high' : 'low');

        setTimeout(() => {
            showBubble(listenerId, fillTitle(response.t2, title), listenerId === 'dangbo' ? 'high' : 'low');

            if (isLoveMode) {
                addLog(`[Love Ïù¥Î≤§Ìä∏ Î∞úÎèô!] üíï ${fillTitle(response.log, title)}`);
            } else {
                addLog(`[ÎåÄÌôî] ${fillTitle(response.log, title)}`);
            }

            calculateInteractionScore('dangbo', isLoveMode);
            calculateInteractionScore('chung', isLoveMode);

            setTimeout(() => {
                isInteracting = false;
                lastDialogTime = Date.now();
                localStorage.setItem('savedLastDialogTime', lastDialogTime);
                scheduleNextMove('dangbo');
                scheduleNextMove('chung');
            }, 2500);
        }, 2000);
    }

    // [ÏàòÏ†ï] Ï†êÏàò Í≥ÑÏÇ∞ (Í∏∞Î≥∏ 1Ï†êÏúºÎ°ú ÌïòÌñ• Ï°∞Ï†ï)
    function calculateInteractionScore(charId, isLoveInteraction = false) {
        const char = charData[charId];
        
        // [Î∞∏Îü∞Ïä§ Ìå®Ïπò] Í∏∞Î≥∏ Ï†êÏàò 1Ï†ê (Í∏∞Ï°¥ 3Ï†ê -> 1Ï†ê)
        // ÏπúÏö∞(100Ï†ê)Í∞Ä ÎêòÎ†§Î©¥ ÏµúÏÜå 100Î≤àÏùÄ ÎåÄÌôîÌï¥Ïïº Ìï©ÎãàÎã§. ÏïÑÏ£º Ï≤úÏ≤úÌûà Ïò§Î¶ÖÎãàÎã§.
        let baseScore = 1;

        // ÏÑ±Í≤© Î≥¥Ï†ï (Ï†êÏàòÍ∞Ä ÏûëÏïÑÏ†∏ÏÑú ÏÜåÏàòÏ†ê Ï≤òÎ¶¨ Ï§ëÏöî)
        if (char.trait === 'Îä•Í∏ÄÎßûÏùå') baseScore = 1.2; // ÏÜåÏàòÏ†ê Î∞úÏÉù Í∞ÄÎä•
        else if (char.trait === 'ÏßàÌà¨ÎßéÏùå') baseScore = 0.8;

        // ÏµúÏ¢Ö Ï†êÏàòÎäî Î∞òÏò¨Î¶ºÌï¥ÏÑú Ï†ïÏàòÎ°ú ÎçîÌïòÍ∏∞
        char.intimacy += Math.round(baseScore);

        const currentSeason = getSeason(gameDate.month);
        if (currentSeason === 'spring') {
            if (char.affection < 10 || isLoveInteraction) {
                // Ìò∏Í∞êÎèÑÎäî ÏπúÎ∞ÄÎèÑÏùò Ï†àÎ∞ò (ÏµúÏÜå 1Ï†ê, ÌôïÎ•†Ï†Å Ï¶ùÍ∞Ä ÎäêÎÇå)
                const loveScore = Math.max(0, Math.round(baseScore / 2)); 
                char.affection += loveScore;
                if (char.affection > 500) char.affection = 500;
            }
        }

        checkMilestones(charId);
        saveCharacterSettings(true);
        if (currentUserId === charId && currentTab === 'relation') {
            renderInfoContent();
        }
    }

    function checkMilestones(charId) {
        const char = charData[charId];

        // ÏπúÎ∞ÄÎèÑ
        let currentIntLevelIdx = 0;
        REL_LEVELS.intimacy.forEach((level, idx) => {
            if (char.intimacy >= level.score) currentIntLevelIdx = idx;
        });

        if (currentIntLevelIdx > char.maxIntimacyLevelIdx) {
            char.maxIntimacyLevelIdx = currentIntLevelIdx;
            const newTitle = REL_LEVELS.intimacy[currentIntLevelIdx].title;
            char.relationshipTitle = newTitle;
            triggerMilestoneEvent(charId, 'intimacy', REL_LEVELS.intimacy[currentIntLevelIdx].score, newTitle);
        }

        // Ìò∏Í∞êÎèÑ
        let currentAffLevelIdx = 0;
        REL_LEVELS.affection.forEach((level, idx) => {
            if (char.affection >= level.score) currentAffLevelIdx = idx;
        });

        if (currentAffLevelIdx > char.maxAffectionLevelIdx) {
            char.maxAffectionLevelIdx = currentAffLevelIdx;
            const newTitle = REL_LEVELS.affection[currentAffLevelIdx].title;
            char.loveTitle = newTitle;
            triggerMilestoneEvent(charId, 'affection', REL_LEVELS.affection[currentAffLevelIdx].score, newTitle);
        }
    }

    function triggerMilestoneEvent(charId, type, score, title) {
        const char = charData[charId];
        const typeName = type === 'intimacy' ? 'ÏπúÎ∞ÄÎèÑ' : 'Ìò∏Í∞êÎèÑ';
        addLog(`[Í≤ΩÏ∂ï] üå∏ ${char.name}ÎãòÍ≥º <${title}> Îã®Í≥ÑÎ•º Îã¨ÏÑ±ÌñàÏäµÎãàÎã§! (${typeName} ${score}) üå∏`, true);

        if (charId === 'dangbo' && type === 'intimacy' && score === 1000) {
            setTimeout(() => {
                showBubble('dangbo', "ÌòïÎãò, Ïù¥Ï†ú Ïö∞Î¶∞ Ï£ΩÏñ¥ÎèÑ Í∞ôÏù¥ Ï£ΩÎäî Í≤ÅÎãàÎã§.", 'high');
                setTimeout(() => showBubble('chung', "ÎßêÏù¥ÎùºÎèÑ Î™ªÌïòÎ©¥... Ïà†Ïù¥ÎÇò Îî∞ÎùºÎ¥ê.", 'low'), 1500);
            }, 500);
        }
    }

    function triggerMonologue(id) {
        if (!dialogDB.solo || !dialogDB.solo[id]) return;

        const lines = dialogDB.solo[id];
        let text = lines[Math.floor(Math.random() * lines.length)];

        const dangbo = charData['dangbo'];
        const chung = charData['chung'];

        let title = "ÌòïÎãò";
        if (dangbo.gender === 'Ïó¨ÏÑ±' && chung.gender === 'Ïó¨ÏÑ±') title = "Ïñ∏Îãà";
        else if (dangbo.gender === 'ÎÇ®ÏÑ±' && chung.gender === 'Ïó¨ÏÑ±') title = "ÎàÑÎãò";
        else if (id === 'dangbo') title = "ÎèÑÏÇ¨ ÌòïÎãò";

        text = fillTitle(text, title);
        showBubble(id, text);
    }

    // ================= 7. Ïú†Ìã∏Î¶¨Ìã∞ Î∞è ÏÑ§Ï†ï Ìï®Ïàò =================
    const themeToggleBtn = document.getElementById('theme-toggle');
    if (themeToggleBtn) {
        const bodyElement = document.body;

        function applyTheme(theme) {
            if (theme === 'dark') bodyElement.classList.add('dark-theme');
            else bodyElement.classList.remove('dark-theme');
            themeToggleBtn.textContent = theme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
        }
        themeToggleBtn.addEventListener('click', () => {
            bodyElement.classList.toggle('dark-theme');
            applyTheme(bodyElement.classList.contains('dark-theme') ? 'dark' : 'light');
        });
    }

    function fillTitle(text, title) {
        if (!text) return "";
        let result = text.replace(/{Ìò∏Ïπ≠}/g, title);
        const regex = new RegExp(`(${title})(ÏùÄ|Îäî|Ïù¥|Í∞Ä|ÏùÑ|Î•º|Í≥º|ÏôÄ)`, 'g');
        return result.replace(regex, (match, word, josa) => {
            const lastChar = word.charCodeAt(word.length - 1);
            if (lastChar < 0xAC00 || lastChar > 0xD7A3) return match;
            const hasBatchim = (lastChar - 0xAC00) % 28 > 0;
            if (josa === 'ÏùÄ' || josa === 'Îäî') return word + (hasBatchim ? 'ÏùÄ' : 'Îäî');
            if (josa === 'Ïù¥' || josa === 'Í∞Ä') return word + (hasBatchim ? 'Ïù¥' : 'Í∞Ä');
            if (josa === 'ÏùÑ' || josa === 'Î•º') return word + (hasBatchim ? 'ÏùÑ' : 'Î•º');
            if (josa === 'Í≥º' || josa === 'ÏôÄ') return word + (hasBatchim ? 'Í≥º' : 'ÏôÄ');
            return match;
        });
    }

    function getContrastYIQ(hexcolor) {
        if (!hexcolor) return 'black';
        const r = parseInt(hexcolor.substr(1, 2), 16);
        const g = parseInt(hexcolor.substr(3, 2), 16);
        const b = parseInt(hexcolor.substr(5, 2), 16);
        return (((r * 299) + (g * 587) + (b * 114)) / 1000) >= 128 ? 'black' : 'white';
    }

   // [ÏàòÏ†ï] ÎßêÌíçÏÑ† ÌëúÏãú (ÎÜíÏù¥Îäî CSS ÌÅ¥ÎûòÏä§Î°ú, Ï¢åÏö∞Îäî Î∞©Ìñ• ÌÅ¥ÎûòÏä§Î°ú Î∂ÑÎ¶¨)
    function showBubble(charId, text, styleType = 'normal') {
        const d = charData[charId];
        const charEl = document.getElementById(`char-${charId}`);
        if (!charEl) return;

        const oldBubble = document.getElementById(`bubble-${charId}`);
        if (oldBubble) oldBubble.remove();

        const bubble = document.createElement('div');
        bubble.id = `bubble-${charId}`;
        bubble.className = 'char-bubble';

        // 1. [ÏÑ∏Î°ú] ÎÜíÏù¥ ÌÅ¥ÎûòÏä§ Ï†ÅÏö© (high / low)
        // ÎåÄÌôî Ïãú ÏÑúÎ°ú ÎÜíÏù¥Î•º Îã§Î•¥Í≤å Ìï¥ÏÑú Í≤πÏπ®ÏùÑ Î∞©ÏßÄÌï©ÎãàÎã§.
        if (styleType === 'high') bubble.classList.add('pos-high');
        else if (styleType === 'low') bubble.classList.add('pos-low');

        // 2. [Í∞ÄÎ°ú] Ï¢åÏö∞ Î∞©Ìñ• ÌÅ¥ÎûòÏä§ Ï†ÅÏö©
        // ÌòºÏû£Îßê(normal)Ïùº ÎïåÎäî Ï†ÅÏö©ÌïòÏßÄ ÏïäÏïÑ Ï†ïÏ§ëÏïôÏóê ÎúπÎãàÎã§.
        // ÎåÄÌôî(high, low)Ïùº ÎïåÎßå ÏÑúÎ°ú Î∞îÍπ•Ï™ΩÏùÑ Î≥¥Í≤å Ìï©ÎãàÎã§.
        if (styleType !== 'normal') {
            if (d.x > 50) bubble.classList.add('is-right'); // Ïò§Î•∏Ï™Ω -> ÏôºÏ™Ω Î≥¥Í∏∞
            else bubble.classList.add('is-left');           // ÏôºÏ™Ω -> Ïò§Î•∏Ï™Ω Î≥¥Í∏∞
        }

        // 3. ÌôîÎ©¥ Íµ¨ÏÑù ÎÅºÏûÑ Î∞©ÏßÄ
        if (d.x < 10) bubble.classList.add('edge-left');
        if (d.x > 90) bubble.classList.add('edge-right');

        // 4. ÏÉâÏÉÅ Î∞è ÌÖçÏä§Ìä∏ Ï†ÅÏö©
        const bgColor = d.color || "#ffffff";
        bubble.style.setProperty('--bubble-bg', bgColor);
        bubble.style.setProperty('--bubble-text', getContrastYIQ(bgColor));
        bubble.innerText = text;
        
        charEl.appendChild(bubble);

        requestAnimationFrame(() => bubble.classList.add('show'));
        setTimeout(() => {
            bubble.classList.remove('show');
            setTimeout(() => bubble.remove(), 300);
        }, 3500);
    }

    // ================= 8. Í¥ÄÎ¶¨Ïûê/ÎîîÎ≤ÑÍ∑∏ Í∏∞Îä• =================
    function toggleDebugMenu() {
        const modal = document.getElementById('debug-modal');
        modal.classList.toggle('open');
        if (modal.classList.contains('open')) {
            document.getElementById('debug-month').value = gameDate.month;
            document.getElementById('debug-day').value = gameDate.day;
        }
    }

    function warpDate() {
        const m = parseInt(document.getElementById('debug-month').value);
        const d = parseInt(document.getElementById('debug-day').value);

        if (isNaN(m) || isNaN(d) || m < 1 || m > 12 || d < 1 || d > 30) {
            alert("ÎÇ†ÏßúÎ•º Ï†ïÌôïÌûà ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî! (1~12Ïõî, 1~30Ïùº)");
            return;
        }
        gameDate.month = m;
        gameDate.day = d;
        localStorage.setItem('savedGameDate', JSON.stringify(gameDate));
        updateDateUI();
        addLog(`[ÏãúÏä§ÌÖú] ‚öôÔ∏è Í¥ÄÎ¶¨Ïûê Í∂åÌïúÏúºÎ°ú ÏãúÍ∞ÑÏùÑ ${m}Ïõî ${d}ÏùºÎ°ú ÎèåÎ†∏ÏäµÎãàÎã§.`, true);
        toggleDebugMenu();
    }

    function resetGameData() {
        if (!confirm("Ï†ïÎßê Ï¥àÍ∏∞ÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå?\nÎ™®Îì† ÏπúÎ∞ÄÎèÑ/Ìò∏Í∞êÎèÑÏôÄ ÎÇ†Ïßú, Í∑∏Î¶¨Í≥† Î°úÍ∑∏Í∞Ä Ï¥àÍ∏∞ÌôîÎê©ÎãàÎã§.\n(ÏÑ±Í≤©, ÏÑ±Î≥Ñ ÏÑ§Ï†ïÏùÄ Ïú†ÏßÄÎê©ÎãàÎã§)")) {
            return;
        }
        gameDate = {
            month: 3,
            day: 1
        };
        localStorage.setItem('savedGameDate', JSON.stringify(gameDate));

        // [Ï∂îÍ∞Ä] Î°úÍ∑∏ Îç∞Ïù¥ÌÑ∞ Ï¥àÍ∏∞Ìôî
        gameLogs = [];
        localStorage.removeItem('hapsa_game_logs');
        document.getElementById('log-box').innerHTML = '';

        for (const key in charData) {
            const char = charData[key];
            char.intimacy = 0;
            char.affection = 0;
            char.maxIntimacyLevelIdx = 0;
            char.maxAffectionLevelIdx = 0;
            char.relationshipTitle = "ÏïÑÎäîÏÇ¨Ïù¥";
            char.loveTitle = "-";
        }
        saveCharacterSettings(true);
        updateDateUI();
        if (currentTab === 'relation') renderInfoContent();
        addLog("[ÏãúÏä§ÌÖú] ‚ö†Ô∏è Î™®Îì† Í¥ÄÍ≥ÑÏôÄ ÏãúÍ∞ÑÏù¥ Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§.", true);
        toggleDebugMenu();
        alert("Ï¥àÍ∏∞Ìôî ÏôÑÎ£å!");
    }

    // ================= 9. Ïã§Ìñâ Î∞è Ïô∏Î∂Ä ÎÖ∏Ï∂ú =================
    loadCharacterSettings();
    renderInfoContent();
    initCharacters();
    updateDateUI();
    updateTime();

    // [Ï∂îÍ∞Ä] Ï†ÄÏû•Îêú Î°úÍ∑∏ Î∂àÎü¨Ïò§Í∏∞ Ïã§Ìñâ
    restoreLogs();

    window.selectCharacter = selectCharacter;
    window.switchTab = switchTab;
    window.toggleInfoPanel = toggleInfoPanel;
    window.saveCharacterSettings = saveCharacterSettings;
    window.updateCharSetting = updateCharSetting;
    window.toggleDebugMenu = toggleDebugMenu;
    window.warpDate = warpDate;
    window.resetGameData = resetGameData;
});
